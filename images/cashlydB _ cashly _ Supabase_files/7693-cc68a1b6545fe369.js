!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="4d6fbc29-4f32-43bc-8b58-6af26051ca43",e._sentryDebugIdIdentifier="sentry-dbid-4d6fbc29-4f32-43bc-8b58-6af26051ca43")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7693],{84073:function(e,t,s){s.d(t,{Z:function(){return ej}});var a=s(97458),n=s(198),r=s(63413),l=s(85466),o=s.n(l),i=s(21935),d=s(80459),c=s(61322),u=s(22675),x=s(40638),m=s(38672),f=s(52983),h=s(44914),p=s(34549),g=s(49571),v=s.n(g),j=s(79387),y=s(38804),b=s(40809),N=s(78066),w=s(69117),S=s(70717),_=s(63730),D=s(39635),R=s(99794),k=s(52176),T=s(59520),C=s(94136),H=s(78579);let L=e=>(0,a.jsxs)(C.VK,{"data-sentry-element":"RowLayout","data-sentry-component":"defaultRenderCell","data-sentry-source-file":"DefaultPreviewColumnRenderer.tsx",children:[(0,a.jsx)(H.c,{utcTimestamp:e.row.timestamp,"data-sentry-element":"TimestampInfo","data-sentry-source-file":"DefaultPreviewColumnRenderer.tsx"}),(0,a.jsx)(C.VG,{className:"w-full",value:e.row.event_message,"data-sentry-element":"TextFormatter","data-sentry-source-file":"DefaultPreviewColumnRenderer.tsx"})]});var E=[{name:"default-preview-first-column",key:"default-preview-first-column",renderCell:L}];let M=[{name:"auth-first-column",key:"auth-first-column",renderCell:e=>{var t;return e.row.level?(0,a.jsxs)(C.VK,{children:[(0,a.jsx)(H.c,{utcTimestamp:e.row.timestamp}),e.row.level&&(0,a.jsx)(C.TK,{value:e.row.level}),(0,a.jsx)(C.VG,{className:"w-full",value:"".concat(e.row.path?e.row.path+" | ":"").concat((null===(t=e.row.msg)||void 0===t?void 0:t.trim())||e.row.event_message)})]}):L(e)}}],P=[{name:"database-api-first-column",key:"database-api-first-column",renderCell:e=>e.row.status_code||e.row.method||e.row.path?(0,a.jsxs)(C.VK,{children:[(0,a.jsx)(H.c,{utcTimestamp:e.row.timestamp}),(0,a.jsx)(C.XA,{row:e,value:e.row.status_code}),(0,a.jsx)(C.VG,{className:"w-20",value:e.row.method}),(0,a.jsx)(C.VG,{className:"w-full",value:e.row.path})]}):L(e)}],I=[{name:"database-postgres-first-column",key:"database-postgres-first-column",renderCell:e=>e.row.error_severity?(0,a.jsxs)(C.VK,{children:[(0,a.jsx)(H.c,{utcTimestamp:e.row.timestamp}),(0,a.jsx)(C.TK,{value:e.row.error_severity}),(0,a.jsx)(C.VG,{className:"w-full",value:e.row.event_message})]}):L(e)}],F=[{name:"functions-edge-first-column",key:"functions-edge-first-column",renderCell:e=>e.row.status_code||e.row.method?(0,a.jsxs)(C.VK,{children:[(0,a.jsx)(H.c,{utcTimestamp:e.row.timestamp}),(0,a.jsx)(C.XA,{row:e,value:e.row.status_code}),(0,a.jsx)(C.VG,{value:e.row.method}),(0,a.jsx)(C.VG,{value:e.row.id})]}):L(e)}],z=[{name:"functions-logs-first-column",key:"functions-logs-first-column",renderCell:e=>e.row.event_type||e.row.level?(0,a.jsxs)(C.VK,{children:[(0,a.jsx)(H.c,{utcTimestamp:e.row.timestamp}),"uncaughtException"===e.row.event_type?(0,a.jsx)(C.TK,{value:e.row.event_type,uppercase:!1}):(0,a.jsx)(C.TK,{value:e.row.level}),(0,a.jsx)(C.VG,{className:"w-full",value:e.row.event_message})]}):L(e)}];var A=s(94849),O=s(55442),Z=s(24987),W=s(24716),V=s(19224),Y=e=>{var t,s,n,r,l,o,i,d,c,u,x;let{log:m}=e;return(0,a.jsxs)("div",{className:"".concat(V.W.log_selection_x_padding," space-y-6"),"data-sentry-component":"AuthSelectionRenderer","data-sentry-source-file":"AuthSelectionRenderer.tsx",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)("h3",{className:"text-foreground-lighter text-sm",children:"Event Message"}),(0,a.jsx)("div",{className:"text-xs text-wrap font-mono text-foreground whitespace-pre-wrap overflow-x-auto",children:(null===(t=m.metadata)||void 0===t?void 0:t.msg)||m.event_message})]}),(0,a.jsx)(C.tS,{value:m.timestamp,"data-sentry-element":"SelectionDetailedTimestampRow","data-sentry-source-file":"AuthSelectionRenderer.tsx"}),(null===(s=m.metadata)||void 0===s?void 0:s.status)&&(0,a.jsx)(C.Yj,{label:"Status",value:String(null===(n=m.metadata)||void 0===n?void 0:n.status),valueRender:(0,a.jsx)(C.XA,{value:null===(r=m.metadata)||void 0===r?void 0:r.status})}),(null===(l=m.metadata)||void 0===l?void 0:l.level)&&(0,a.jsx)(C.Yj,{label:"Severity",value:null===(o=m.metadata)||void 0===o?void 0:o.level,valueRender:(0,a.jsx)(C.TK,{value:null===(i=m.metadata)||void 0===i?void 0:i.level})}),(null===(d=m.metadata)||void 0===d?void 0:d.path)&&(0,a.jsx)(C.Yj,{label:"Request Path",value:null===(c=m.metadata)||void 0===c?void 0:c.path}),(null===(u=m.metadata)||void 0===u?void 0:u.error)&&(0,a.jsx)(C.Yj,{label:"Error Message",value:null===(x=m.metadata)||void 0===x?void 0:x.error}),(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)("h3",{className:"text-foreground-lighter text-sm",children:"Metadata"}),(0,a.jsx)("pre",{className:" className={`text-foreground text-sm col-span-8 overflow-x-auto text-xs font-mono`}",dangerouslySetInnerHTML:{__html:(0,C.wv)(m.metadata)}})]})]})},B=()=>(0,a.jsx)("div",{className:"h-px w-full bg-panel-border-interior-light [[data-theme*=dark]_&]:bg-panel-border-interior-dark","data-sentry-component":"LogsDivider","data-sentry-source-file":"Logs.Divider.tsx"}),J=e=>{var t,s,n,r,l,o,i,d,c,u,x,m,f;let{log:h}=e,p=null==h?void 0:null===(s=h.metadata[0])||void 0===s?void 0:null===(t=s.request)||void 0===t?void 0:t[0],g=null==h?void 0:null===(r=h.metadata[0])||void 0===r?void 0:null===(n=r.response)||void 0===n?void 0:n[0],v=null==p?void 0:p.method,j=null==g?void 0:g.status_code,y=null==p?void 0:null===(o=p.headers)||void 0===o?void 0:null===(l=o[0])||void 0===l?void 0:l.cf_connecting_ip,b=null==p?void 0:null===(d=p.headers)||void 0===d?void 0:null===(i=d[0])||void 0===i?void 0:i.cf_ipcountry,N=null==p?void 0:null===(u=p.headers)||void 0===u?void 0:null===(c=u[0])||void 0===c?void 0:c.x_client_info,w=null==p?void 0:null===(m=p.headers)||void 0===m?void 0:null===(x=m[0])||void 0===x?void 0:x.referer,S=null==h?void 0:null===(f=h.metadata[0])||void 0===f?void 0:f.load_balancer_redirect_identifier;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"".concat(V.W.log_selection_x_padding," space-y-2"),children:[(0,a.jsx)(C.Yj,{label:"Status",value:j,valueRender:(0,a.jsx)(C.XA,{value:j}),"data-sentry-element":"SelectionDetailedRow","data-sentry-source-file":"DatabaseApiSelectionRender.tsx"}),(0,a.jsx)(C.Yj,{label:"Method",value:v,"data-sentry-element":"SelectionDetailedRow","data-sentry-source-file":"DatabaseApiSelectionRender.tsx"}),(0,a.jsx)(C.tS,{value:h.timestamp,"data-sentry-element":"SelectionDetailedTimestampRow","data-sentry-source-file":"DatabaseApiSelectionRender.tsx"}),(0,a.jsx)(C.Yj,{label:"IP Address",value:y,"data-sentry-element":"SelectionDetailedRow","data-sentry-source-file":"DatabaseApiSelectionRender.tsx"}),(0,a.jsx)(C.Yj,{label:"Origin Country",value:b,"data-sentry-element":"SelectionDetailedRow","data-sentry-source-file":"DatabaseApiSelectionRender.tsx"}),N&&(0,a.jsx)(C.Yj,{label:"Client",value:N}),w&&(0,a.jsx)(C.Yj,{label:"Referer",value:w}),S&&(0,a.jsx)(C.Yj,{label:"Redirect Identifier",value:S})]}),(0,a.jsx)(B,{"data-sentry-element":"LogsDivider","data-sentry-source-file":"DatabaseApiSelectionRender.tsx"}),(0,a.jsxs)("div",{className:"".concat(V.W.log_selection_x_padding),children:[(0,a.jsx)("h3",{className:"text-foreground-light mb-4 font-mono text-sm uppercase",children:"Request Metadata"}),(0,a.jsx)("pre",{className:"text-sm syntax-highlight overflow-x-auto mb-4",children:(0,a.jsx)("div",{className:"text-wrap",dangerouslySetInnerHTML:{__html:p?(0,C.wv)(h.metadata[0].request[0]):""}})})]}),(0,a.jsx)(B,{"data-sentry-element":"LogsDivider","data-sentry-source-file":"DatabaseApiSelectionRender.tsx"}),(0,a.jsxs)("div",{className:"".concat(V.W.log_selection_x_padding),children:[(0,a.jsx)("h3",{className:"text-foreground-light mb-4 font-mono text-sm uppercase",children:"Response Metadata"}),(0,a.jsx)("pre",{className:"text-sm syntax-highlight overflow-x-auto mb-4",children:(0,a.jsx)("div",{dangerouslySetInnerHTML:{__html:g?(0,C.wv)(h.metadata[0].response[0]):""}})})]})]})},K=s(11971),G=e=>{var t,s,n,r,l,o,i,d;let{log:c}=e,u=null==c?void 0:null===(s=c.metadata[0])||void 0===s?void 0:null===(t=s.parsed[0])||void 0===t?void 0:t.user_name,x=null==c?void 0:null===(r=c.metadata[0])||void 0===r?void 0:null===(n=r.parsed[0])||void 0===n?void 0:n.session_id,m=null==c?void 0:null===(o=c.metadata[0])||void 0===o?void 0:null===(l=o.parsed[0])||void 0===l?void 0:l.hint,f=null==c?void 0:null===(d=c.metadata[0])||void 0===d?void 0:null===(i=d.parsed[0])||void 0===i?void 0:i.error_severity;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:V.W.log_selection_x_padding,children:[(0,a.jsx)("span",{className:"col-span-4 text-sm text-foreground-lighter",children:"Event message"}),(0,a.jsx)("div",{className:"text-wrap mt-2 overflow-x-auto whitespace-pre-wrap font-mono  text-xs text-foreground",children:c.event_message})]}),(0,a.jsx)(B,{"data-sentry-element":"LogsDivider","data-sentry-source-file":"DatabasePostgresSelectionRender.tsx"}),(0,a.jsxs)("div",{className:"".concat(V.W.log_selection_x_padding," space-y-2"),children:[(0,a.jsx)(C.Yj,{label:"Severity",value:f,valueRender:(0,a.jsx)(C.TK,{value:f}),"data-sentry-element":"SelectionDetailedRow","data-sentry-source-file":"DatabasePostgresSelectionRender.tsx"}),(0,a.jsx)(C.tS,{value:c.timestamp,"data-sentry-element":"SelectionDetailedTimestampRow","data-sentry-source-file":"DatabasePostgresSelectionRender.tsx"}),(0,a.jsx)(C.Yj,{label:"Postgres Username",value:u,"data-sentry-element":"SelectionDetailedRow","data-sentry-source-file":"DatabasePostgresSelectionRender.tsx"}),(0,a.jsx)(C.Yj,{label:"Session ID",value:x,"data-sentry-element":"SelectionDetailedRow","data-sentry-source-file":"DatabasePostgresSelectionRender.tsx"})]}),m&&(0,a.jsx)("div",{className:"mt-4 ".concat(V.W.log_selection_x_padding),children:(0,a.jsx)(K.b,{variant:"warning",withIcon:!0,title:m})}),(0,a.jsx)(B,{"data-sentry-element":"LogsDivider","data-sentry-source-file":"DatabasePostgresSelectionRender.tsx"}),(0,a.jsxs)("div",{className:V.W.log_selection_x_padding,children:[(0,a.jsx)("h3",{className:"mb-4 text-lg text-foreground",children:"Metadata"}),(0,a.jsx)("pre",{className:"syntax-highlight overflow-x-auto text-sm",children:(0,a.jsx)("div",{className:"text-wrap",dangerouslySetInnerHTML:{__html:c.metadata?(0,C.wv)(c.metadata[0]):""}})})]})]})},q=s(96320),X=s(53846);let U=()=>(0,a.jsx)(q.Z,{className:"bg-border my-1","data-sentry-element":"Separator","data-sentry-component":"LogRowSeparator","data-sentry-source-file":"DefaultPreviewSelectionRenderer.tsx"}),Q=e=>{let{keyName:t,value:s}=e,n="timestamp"===t||"created_at"===t||"updated_at"===t,r="object"==typeof s&&null!==s,l="log-viewer-expanded-".concat(t),[o,i]=(0,f.useState)(()=>{try{var e;return JSON.parse(null!==(e=localStorage.getItem(l))&&void 0!==e?e:"false")}catch(e){return!1}}),[d,c]=(0,f.useState)(!1);return((0,f.useEffect)(()=>{localStorage.setItem(l,JSON.stringify(o))},[o,l]),r)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("h3",{className:"text-foreground-lighter text-sm pl-3 py-2",children:t}),(0,a.jsxs)("div",{children:[(0,a.jsx)(W.d,{hideLineNumbers:!0,className:(0,D.cn)("!bg-surface-300 w-full pt-1 max-w-full border-none text-xs prose-sm transition-all",{"max-h-[80px]":!o,"max-h-[400px]":o}),value:JSON.stringify(s,null,2),language:"json"}),(0,a.jsx)(k.z,{className:"mt-1 w-full",size:"tiny",type:"outline",onClick:()=>i(!o),children:o?"Collapse":"Expand"})]})]}),(0,a.jsx)(U,{})]}):(0,a.jsxs)(R.h_,{"data-sentry-element":"DropdownMenu","data-sentry-component":"PropertyRow","data-sentry-source-file":"DefaultPreviewSelectionRenderer.tsx",children:[(0,a.jsx)(R.$F,{className:"group w-full","data-sentry-element":"DropdownMenuTrigger","data-sentry-source-file":"DefaultPreviewSelectionRenderer.tsx",children:(0,a.jsx)("div",{className:"rounded-md w-full overflow-hidden",children:(0,a.jsxs)("div",{className:(0,D.cn)("flex py-2 w-full",{"flex-col gap-1.5":o,"items-center group-hover:bg-surface-300 gap-4":!o}),children:[(0,a.jsx)("h3",{className:(0,D.cn)("pl-3 text-foreground-lighter text-sm text-left"),children:t}),(0,a.jsx)("div",{className:(0,D.cn)("text-sm flex-1 font-mono text-foreground pr-3",{"max-w-full text-left rounded-md p-2 bg-surface-300 text-xs w-full":o,"truncate text-right":!o,"text-brand-600":d}),children:o?(0,a.jsx)(W.d,{value:JSON.stringify(s,null,2)}):n?(0,a.jsx)(H.c,{className:"text-sm",utcTimestamp:s}):(0,a.jsx)("div",{className:"text-sm truncate",children:JSON.stringify(s)})})]})})}),(0,a.jsxs)(R.AW,{align:"start","data-sentry-element":"DropdownMenuContent","data-sentry-source-file":"DefaultPreviewSelectionRenderer.tsx",children:[(0,a.jsxs)(R.Xi,{onClick:()=>{(0,X.v)(String(s),()=>{c(!0),p.Am.success("Copied to clipboard")}),setTimeout(()=>{c(!1)},1e3)},"data-sentry-element":"DropdownMenuItem","data-sentry-source-file":"DefaultPreviewSelectionRenderer.tsx",children:["Copy ",t]}),!r&&(0,a.jsxs)(R.Xi,{onClick:()=>{i(!o)},children:[o?"Collapse":"Expand"," value"]})]}),(0,a.jsx)(U,{"data-sentry-element":"LogRowSeparator","data-sentry-source-file":"DefaultPreviewSelectionRenderer.tsx"})]})};var $=e=>{let{log:t}=e,{timestamp:s,event_message:n,metadata:r,id:l,...o}=t;return(0,a.jsxs)("div",{className:"p-2 flex flex-col","data-sentry-component":"DefaultPreviewSelectionRenderer","data-sentry-source-file":"DefaultPreviewSelectionRenderer.tsx",children:[(null==t?void 0:t.id)&&(0,a.jsx)(Q,{keyName:"id",value:t.id},"id"),(null==t?void 0:t.timestamp)&&(0,a.jsx)(Q,{keyName:"timestamp",value:t.timestamp},"timestamp"),(null==t?void 0:t.event_message)&&(0,a.jsx)(Q,{keyName:"event_message",value:t.event_message},"event_message"),(null==t?void 0:t.metadata)&&(0,a.jsx)(Q,{keyName:"metadata",value:t.metadata},"metadata"),Object.entries(o).map(e=>{let[t,s]=e;return(0,a.jsx)(Q,{keyName:t,value:s},t)})]})};function ee(e){return Object.fromEntries(Object.entries(e).filter(e=>{let[t]=e;return!["host","url"].includes(t)}).map(e=>{let[t,s]=e;return"headers"===t?[t,s.map(e=>Object.fromEntries(Object.entries(e).filter(e=>{let[t]=e;return!t.startsWith("_")})))]:[t,s]}))}var et=e=>{var t,s,n;let{log:r}=e,l=null===(t=r.metadata)||void 0===t?void 0:t[0],o=null==l?void 0:null===(s=l.request)||void 0===s?void 0:s[0],i=null==l?void 0:null===(n=l.response)||void 0===n?void 0:n[0],d=null==o?void 0:o.method,c=null==i?void 0:i.status_code,u=(null==o?void 0:o.url)!==void 0?new URL(null==o?void 0:o.url):void 0,x=l.execution_time_ms,m=l.deployment_id;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"".concat(V.W.log_selection_x_padding," space-y-2"),children:[(0,a.jsx)(C.Yj,{label:"Status",value:c,valueRender:(0,a.jsx)(C.XA,{value:c}),"data-sentry-element":"SelectionDetailedRow","data-sentry-source-file":"FunctionInvocationSelectionRender.tsx"}),(0,a.jsx)(C.Yj,{label:"Method",value:d,"data-sentry-element":"SelectionDetailedRow","data-sentry-source-file":"FunctionInvocationSelectionRender.tsx"}),(0,a.jsx)(C.tS,{value:r.timestamp,"data-sentry-element":"SelectionDetailedTimestampRow","data-sentry-source-file":"FunctionInvocationSelectionRender.tsx"}),(0,a.jsx)(C.Yj,{label:"Execution Time",value:"".concat(x,"ms"),"data-sentry-element":"SelectionDetailedRow","data-sentry-source-file":"FunctionInvocationSelectionRender.tsx"}),(0,a.jsx)(C.Yj,{label:"Execution ID",value:l.execution_id,"data-sentry-element":"SelectionDetailedRow","data-sentry-source-file":"FunctionInvocationSelectionRender.tsx"}),(0,a.jsx)(C.Yj,{label:"Deployment ID",value:m,"data-sentry-element":"SelectionDetailedRow","data-sentry-source-file":"FunctionInvocationSelectionRender.tsx"}),(0,a.jsx)(C.Yj,{label:"Log ID",value:r.id,"data-sentry-element":"SelectionDetailedRow","data-sentry-source-file":"FunctionInvocationSelectionRender.tsx"}),void 0!==u&&(0,a.jsx)(C.Yj,{label:"Request Path",value:u.pathname+u.search})]}),(0,a.jsxs)("div",{className:"".concat(V.W.log_selection_x_padding),children:[(0,a.jsx)("h3",{className:"text-foreground-light mb-4 font-mono text-sm uppercase",children:"Request Metadata"}),(0,a.jsx)("pre",{className:"text-sm syntax-highlight overflow-x-auto mb-4",children:(0,a.jsx)("div",{className:"text-wrap",dangerouslySetInnerHTML:{__html:o?(0,C.wv)(ee(o)):""}})})]}),(0,a.jsxs)("div",{className:"".concat(V.W.log_selection_x_padding),children:[(0,a.jsx)("h3",{className:"text-foreground-light mb-4 font-mono text-sm uppercase",children:"Response Metadata"}),(0,a.jsx)("pre",{className:"text-sm syntax-highlight overflow-x-auto mb-4",children:(0,a.jsx)("div",{dangerouslySetInnerHTML:{__html:i?(0,C.wv)(ee(i)):""}})})]})]})},es=e=>{let{log:t}=e,s=t.metadata[0];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"".concat(V.W.log_selection_x_padding),children:[(0,a.jsx)("span",{className:"text-foreground-lighter text-sm col-span-4",children:"Event message"}),(0,a.jsx)("div",{className:"text-xs text-wrap font-mono text-foreground mt-2 whitespace-pre-wrap overflow-x-auto",children:t.event_message})]}),(0,a.jsx)("div",{className:"h-px w-full bg-panel-border-interior-light [[data-theme*=dark]_&]:bg-panel-border-interior-dark"}),(0,a.jsxs)("div",{className:"".concat(V.W.log_selection_x_padding," space-y-2"),children:[(0,a.jsx)(C.Yj,{label:"Severity",value:s.level,valueRender:(0,a.jsx)(C.TK,{value:s.level}),"data-sentry-element":"SelectionDetailedRow","data-sentry-source-file":"FunctionLogsSelectionRender.tsx"}),(0,a.jsx)(C.Yj,{label:"Deployment version",value:s.version,"data-sentry-element":"SelectionDetailedRow","data-sentry-source-file":"FunctionLogsSelectionRender.tsx"}),(0,a.jsx)(C.tS,{value:t.timestamp,"data-sentry-element":"SelectionDetailedTimestampRow","data-sentry-source-file":"FunctionLogsSelectionRender.tsx"}),(0,a.jsx)(C.Yj,{label:"Execution ID",value:s.execution_id,"data-sentry-element":"SelectionDetailedRow","data-sentry-source-file":"FunctionLogsSelectionRender.tsx"}),(0,a.jsx)(C.Yj,{label:"Deployment ID",value:s.deployment_id,"data-sentry-element":"SelectionDetailedRow","data-sentry-source-file":"FunctionLogsSelectionRender.tsx"})]}),(0,a.jsxs)("div",{className:"".concat(V.W.log_selection_x_padding),children:[(0,a.jsx)("h3",{className:"text-lg text-foreground mb-4",children:"Metadata"}),(0,a.jsx)("pre",{className:"text-sm syntax-highlight overflow-x-auto",children:(0,a.jsx)("div",{className:"text-wrap",dangerouslySetInnerHTML:{__html:s?(0,C.wv)(s):""}})})]})]})},ea=s(32103);let en=e=>{let{label:t,value:s,code:n}=e;return(0,a.jsxs)("div",{className:"grid grid-cols-12","data-sentry-component":"DetailedJsonRow","data-sentry-source-file":"WarehouseSelectionRenderer.tsx",children:[(0,a.jsx)("span",{className:"text-foreground-lighter text-sm col-span-3",children:t}),(0,a.jsx)("span",{className:(0,D.cn)("text-foreground text-sm col-span-9 overflow-x-auto",n&&"text-xs font-mono"),children:(0,a.jsx)("pre",{dangerouslySetInnerHTML:{__html:(0,C.wv)(s)}})})]})},er=e=>{let{log:t}=e;return(0,a.jsx)("div",{className:"overflow-hidden overflow-x-auto space-y-6","data-sentry-component":"WarehouseSelectionRenderer","data-sentry-source-file":"WarehouseSelectionRenderer.tsx",children:Object.entries(t).map((e,t)=>{let[s,n]=e;return(0,a.jsx)("div",{className:"".concat(V.W.log_selection_x_padding),children:n&&"object"==typeof n?(0,a.jsx)(en,{label:s,value:n}):(0,a.jsx)(C.Yj,{label:s,value:null===n?"NULL ":String(n)})},"".concat(s,"-").concat(t))})})};var el=s(53043),eo=e=>{let{log:t,onClose:s,queryType:n,isLoading:r,error:l}=e,o=(0,el.P)("logsDetailV2");return(0,a.jsx)("div",{className:"relative flex h-full flex-grow flex-col overflow-y-scroll bg-surface-100 border-t","data-sentry-component":"LogSelection","data-sentry-source-file":"LogSelection.tsx",children:(0,a.jsx)("div",{className:"relative flex-grow flex flex-col h-full",children:(0,a.jsxs)(Z.mQ,{defaultValue:"details",className:"flex flex-col h-full","data-sentry-element":"Tabs_Shadcn_","data-sentry-source-file":"LogSelection.tsx",children:[(0,a.jsxs)(Z.dr,{className:"px-2 pt-2","data-sentry-element":"TabsList_Shadcn_","data-sentry-source-file":"LogSelection.tsx",children:[(0,a.jsx)(Z.SP,{className:"px-3",value:"details","data-sentry-element":"TabsTrigger_Shadcn_","data-sentry-source-file":"LogSelection.tsx",children:"Details"}),(0,a.jsx)(Z.SP,{disabled:!t,className:"px-3",value:"raw","data-sentry-element":"TabsTrigger_Shadcn_","data-sentry-source-file":"LogSelection.tsx",children:"Raw"}),(0,a.jsx)(k.z,{type:"text",className:"ml-auto absolute top-2 right-2 cursor-pointer transition hover:text-foreground h-6 w-6 px-0 py-0 flex items-center justify-center",onClick:s,"data-sentry-element":"Button","data-sentry-source-file":"LogSelection.tsx",children:(0,a.jsx)(A.Z,{size:14,strokeWidth:2,className:"text-foreground-lighter","data-sentry-element":"X","data-sentry-source-file":"LogSelection.tsx"})})]}),(0,a.jsx)("div",{className:"flex-1 h-full",children:r?(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)(ea.A,{})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Z.nU,{className:"space-y-6 h-full",value:"details",children:(0,a.jsx)(()=>{if(l)return(0,a.jsx)(ed,{error:l});if(!t)return(0,a.jsx)(ei,{});if(o)return(0,a.jsx)($,{log:t});switch(n){case"warehouse":return(0,a.jsx)(er,{log:t});case"api":return(0,a.jsx)(J,{log:t});case"database":case"pg_cron":return(0,a.jsx)(G,{log:t});case"fn_edge":return(0,a.jsx)(et,{log:t});case"functions":return(0,a.jsx)(es,{log:t});case"auth":return(0,a.jsx)(Y,{log:t});default:return(0,a.jsx)($,{log:t})}},{})}),(0,a.jsx)(Z.nU,{value:"raw",children:(0,a.jsx)(W.d,{hideLineNumbers:!0,language:"json",className:"prose w-full pt-0 max-w-full border-none",children:JSON.stringify(t,null,2)})})]})})]})})})};function ei(e){let{title:t="Select an Event",message:s="Select an Event to view the complete JSON payload"}=e;return(0,a.jsx)("div",{className:(0,D.cn)("flex h-full w-full flex-col items-center justify-center gap-2 overflow-y-scroll text-center transition-all px-4"),"data-sentry-component":"LogDetailEmptyState","data-sentry-source-file":"LogSelection.tsx",children:(0,a.jsxs)("div",{className:(0,D.cn)("flex w-full max-w-sm flex-col items-center justify-center gap-6 text-center transition-all delay-300 duration-500"),children:[(0,a.jsxs)("div",{className:"relative flex h-4 w-32 items-center rounded border border-control px-2",children:[(0,a.jsx)("div",{className:"h-0.5 w-2/3 rounded-full bg-surface-300"}),(0,a.jsx)("div",{className:"absolute right-1 -bottom-4",children:(0,a.jsx)(O.Z,{size:"24",strokeWidth:1,"data-sentry-element":"MousePointerClick","data-sentry-source-file":"LogSelection.tsx"})})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("h3",{className:"text-sm text-foreground",children:t}),(0,a.jsx)("p",{className:"text-xs text-foreground-lighter",children:s})]})]})})}function ed(e){let{error:t}=e;return(0,a.jsx)("pre",{"data-sentry-component":"LogErrorState","data-sentry-source-file":"LogSelection.tsx",children:JSON.stringify(t,null,2)})}var ec=s(98632);let eu=e=>{let{error:t}=e;return(0,a.jsx)("div",{className:"w-full prose min-w-full text-foreground text-sm","data-sentry-component":"DefaultErrorRenderer","data-sentry-source-file":"DefaultErrorRenderer.tsx",children:(0,a.jsx)(W.d,{title:"Error fetching logs",language:"json",hideLineNumbers:!0,value:"string"==typeof t?t:JSON.stringify(t,null,2),className:"w-full font-mono","data-sentry-element":"CodeBlock","data-sentry-source-file":"DefaultErrorRenderer.tsx"})})};var ex=s(93761),em=s(86815);let ef=(0,f.createContext)({chevronAlign:"left",justified:!0,type:"default"});function eh(e){let{children:t,className:s,onChange:n,openBehaviour:r="multiple",type:l="default",defaultValue:o,justified:i=!1,chevronAlign:d="left"}=e,c=[(0,em.Z)("accordion").variants[l].base];return s&&c.push(s),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(ex.fC,{type:r,onValueChange:function(e){n&&n(e),e==typeof String&&e.split(" ")},defaultValue:o,className:c.join(" "),"data-sentry-element":"unknown","data-sentry-source-file":"Accordion.tsx",children:(0,a.jsx)(ef.Provider,{value:{chevronAlign:d,justified:i,type:l,defaultValue:o},"data-sentry-element":"unknown","data-sentry-source-file":"Accordion.tsx",children:(0,a.jsx)("div",{children:t})})})})}eh.Item=function(e){let{children:t,className:s,header:n,id:r,disabled:l}=e,o=(0,em.Z)("accordion"),[d,c]=(0,f.useState)(!1),{type:u,justified:x,chevronAlign:m}=(0,f.useContext)(ef),h=[o.variants[u].trigger];x&&h.push(o.justified),s&&h.push(s);let p=[o.chevron.base,o.chevron.align[m]];return d&&!l&&p.unshift("!rotate-180"),(0,a.jsxs)(ex.ck,{value:r,className:o.variants[u].container,disabled:l,onClick:()=>{c(!d)},"data-sentry-element":"unknown","data-sentry-component":"Item","data-sentry-source-file":"Accordion.tsx",children:[(0,a.jsxs)(ex.xz,{className:h.join(" "),"data-sentry-element":"unknown","data-sentry-source-file":"Accordion.tsx",children:[n,!l&&(0,a.jsx)(i.Z,{"aria-hidden":!0,className:p.join(" "),strokeWidth:2})]}),(0,a.jsx)(ex.VY,{className:o.variants[u].content,"data-sentry-element":"unknown","data-sentry-source-file":"Accordion.tsx",children:(0,a.jsx)("div",{className:o.variants[u].panel,children:t})})]})};var ep=s(399),eg=e=>{let{error:t,isCustomQuery:s}=e;return(0,a.jsxs)("div",{className:"flex flex-col gap-2 text-foreground-light","data-sentry-component":"ResourcesExceededErrorRenderer","data-sentry-source-file":"ResourcesExceededErrorRenderer.tsx",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1 text-sm",children:[(0,a.jsx)("p",{children:"This query requires too much memory to be executed."}),(0,a.jsx)("p",{children:s?"Avoid selecting entire objects and instead select specific keys using dot notation.":"Avoid querying across a large datetime range."}),!s&&(0,a.jsx)("p",{children:"Please contact support if this error persists."})]}),(0,a.jsx)(eh,{className:"text-sm",justified:!1,openBehaviour:"multiple",type:"default",chevronAlign:"left",size:"small",iconPosition:"left","data-sentry-element":"Accordion","data-sentry-source-file":"ResourcesExceededErrorRenderer.tsx",children:(0,a.jsx)(eh.Item,{id:"1",header:"Full error message","data-sentry-element":"unknown","data-sentry-source-file":"ResourcesExceededErrorRenderer.tsx",children:(0,a.jsx)(ep.Z.TextArea,{size:"tiny",value:JSON.stringify(t,null,2),borderless:!0,className:"mt-4 w-full font-mono",copy:!0,rows:5,"data-sentry-element":"unknown","data-sentry-source-file":"ResourcesExceededErrorRenderer.tsx"})})})]})},ev=s(97701),ej=e=>{let{data:t=[],queryType:s,onHistogramToggle:l,isHistogramShowing:g,isLoading:C,error:H,projectRef:L,onRun:A,onSave:O,hasEditorValue:Z,className:W,collectionName:V,EmptyState:Y,showHeader:B=!0,showHistogramToggle:J=!0,selectedLog:K,isSelectedLogLoading:G,selectedLogError:q,onSelectedLogChange:X}=e,{profile:U}=(0,w.Un)(),{show:Q}=(0,S.av)(),$=(0,f.useRef)(null),[ee,et]=(0,f.useState)(),[es,ea]=(0,f.useState)(!1),[en,er]=(0,f.useState)(null),el=(0,b.Xo)(n.KA.CREATE,"user_content",{resource:{type:"log_sql",owner_id:null==U?void 0:U.id},subject:{id:null==U?void 0:U.id}}),ei=t[0],ed=Object.keys(function(){if(!ei)return{};let{timestamp:e,...t}=ei;return e?{timestamp:e,...t}:ei}()||{}),ex=ed.includes("id"),em=ed.includes("timestamp"),ef="logs-explorer-context-menu",eh=ed.map((e,t)=>({key:"logs-column-".concat(t),name:e,resizable:!0,renderCell:t=>{let{row:s}=t;return(0,a.jsx)("span",{onContextMenu:e=>Q(e,{id:ef}),children:eS(null==s?void 0:s[e])})},renderHeaderCell:t=>(0,a.jsx)("div",{className:"flex items-center",children:e}),minWidth:128})),ep=eh;if(s)switch(s){case"warehouse":ep=eh;break;case"api":ep=P;break;case"database":case"pg_cron":ep=I;break;case"fn_edge":ep=F;break;case"functions":ep=z;break;case"auth":ep=M;break;default:ep=ei&&(0,ec.Oy)(ei)?E:eh}let ej=(0,f.useMemo)(()=>JSON.stringify(t),[t]),[ey,eb]=(0,f.useMemo)(()=>{let e=[...new Set(t)];if(!ex)return[e,{}];let s=e.reduce((e,t)=>(e[t.id]=t,e),{});return[e,s]},[t,ex]),eN=(0,f.useMemo)(()=>ex&&em?Object.values(eb).sort((e,t)=>t.timestamp-e.timestamp):ey,[ey,ex,em,eb]),ew=(0,f.useCallback)((e,t)=>(0,a.jsx)(h.X2,{...t,isRowSelected:!1,selectedCellIdx:void 0},e),[]),eS=e=>e&&"object"==typeof e?JSON.stringify(e):null===e?"NULL":String(e);return((0,f.useEffect)(()=>{(K||G)&&ea(!0),G||K||er(null)},[K,G]),t)?(0,a.jsxs)("section",{className:"h-full flex w-full flex-col flex-1","data-sentry-component":"LogTable","data-sentry-source-file":"LogTable.tsx",children:[!s&&(0,a.jsx)(()=>(0,a.jsxs)("div",{className:(0,D.cn)("flex w-full items-center justify-between border-t bg-surface-100 px-5 py-2",W,{hidden:!B}),"data-sentry-component":"LogsExplorerTableHeader","data-sentry-source-file":"LogTable.tsx",children:[(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsxs)(R.h_,{"data-sentry-element":"DropdownMenu","data-sentry-source-file":"LogTable.tsx",children:[(0,a.jsx)(R.$F,{asChild:!0,"data-sentry-element":"DropdownMenuTrigger","data-sentry-source-file":"LogTable.tsx",children:(0,a.jsxs)(k.z,{type:"text",iconRight:(0,a.jsx)(i.Z,{size:14}),"data-sentry-element":"Button","data-sentry-source-file":"LogTable.tsx",children:["Results ",t&&t.length?"(".concat(t.length,")"):""]})}),(0,a.jsxs)(R.AW,{align:"start","data-sentry-element":"DropdownMenuContent","data-sentry-source-file":"LogTable.tsx",children:[(0,a.jsxs)(R.Xi,{onClick:()=>{var e;null===(e=$.current)||void 0===e||e.click()},className:"space-x-2","data-sentry-element":"DropdownMenuItem","data-sentry-source-file":"LogTable.tsx",children:[(0,a.jsx)(d.Z,{size:14,"data-sentry-element":"Download","data-sentry-source-file":"LogTable.tsx"}),(0,a.jsx)("div",{children:"Download CSV"})]}),(0,a.jsxs)(R.Xi,{onClick:()=>{let e=v().unparse(t);(0,N.vQ)(e,()=>{p.Am.success("Results copied to clipboard")})},className:"space-x-2","data-sentry-element":"DropdownMenuItem","data-sentry-source-file":"LogTable.tsx",children:[(0,a.jsx)(c.Z,{size:14,"data-sentry-element":"Clipboard","data-sentry-source-file":"LogTable.tsx"}),(0,a.jsx)("div",{children:"Copy as CSV"})]}),(0,a.jsxs)(R.Xi,{onClick:()=>{(0,N.vQ)(ej,()=>{p.Am.success("Results copied to clipboard")})},className:"space-x-2","data-sentry-element":"DropdownMenuItem","data-sentry-source-file":"LogTable.tsx",children:[(0,a.jsx)(c.Z,{size:14,"data-sentry-element":"Clipboard","data-sentry-source-file":"LogTable.tsx"}),(0,a.jsx)("div",{children:"Copy as JSON"})]})]})]})}),(0,a.jsx)("div",{className:"hidden",children:(0,a.jsx)(y.Z,{buttonType:"text",data:t,"data-sentry-element":"CSVButton","data-sentry-source-file":"LogTable.tsx",children:(0,a.jsx)("div",{ref:$,children:"Download CSV"})})}),J&&(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(k.z,{type:"default",icon:g?(0,a.jsx)(u.Z,{}):(0,a.jsx)(x.Z,{}),onClick:l,children:"Histogram"})}),(0,a.jsxs)("div",{className:"space-x-2",children:[r.Qy&&(0,a.jsx)(j.u,{type:"default",onClick:O,disabled:!el||!Z,tooltip:{content:{side:"bottom",text:el?void 0:"You need additional permissions to save your query"}},children:"Save query"}),(0,a.jsx)(k.z,{title:"run-logs-query",type:Z?"primary":"alternative",disabled:!Z,onClick:A,iconRight:(0,a.jsx)(m.Z,{size:12}),loading:C,"data-sentry-element":"Button","data-sentry-source-file":"LogTable.tsx",children:"Run"})]})]}),{}),(0,a.jsxs)(T.pO,{direction:"horizontal","data-sentry-element":"ResizablePanelGroup","data-sentry-source-file":"LogTable.tsx",children:[(0,a.jsxs)(T.ee,{defaultSize:K?60:100,"data-sentry-element":"ResizablePanel","data-sentry-source-file":"LogTable.tsx",children:[(0,a.jsx)(h.ZP,{role:"table",style:{height:"100%"},className:(0,D.cn)("flex-1 flex-grow h-full border-0",{"data-grid--simple-logs":s,"data-grid--logs-explorer":!s}),rowHeight:40,headerRowHeight:s?0:28,onSelectedCellChange:e=>{et(e)},onCellClick:e=>{var t;er(t=e.row),null==X||X(t)},columns:ep,rowClass:e=>(0,D.cn)("font-mono tracking-tight !bg-studio hover:!bg-surface-100 cursor-pointer",{"!bg-surface-200 rdg-row--focused":o()(e,en)}),rows:eN,rowKeyGetter:e=>ex?e.id:JSON.stringify(e),renderers:{renderRow:ew,noRowsFallback:C?null:(0,a.jsxs)(a.Fragment,{children:[0===eN.length&&!H&&(0,a.jsx)(()=>Y||(0,a.jsx)(ev.i,{}),{}),H&&(0,a.jsx)(()=>{var e;if(!H)return null;let t={isCustomQuery:!s,error:H};return"object"==typeof H&&(null===(e=H.error)||void 0===e?void 0:e.errors.find(e=>"resourcesExceeded"===e.reason))?(0,a.jsx)(eg,{...t}):(0,a.jsx)("div",{className:"text-foreground flex gap-2 font-mono px-6","data-sentry-component":"RenderErrorAlert","data-sentry-source-file":"LogTable.tsx",children:(0,a.jsx)(eu,{...t,"data-sentry-element":"DefaultErrorRenderer","data-sentry-source-file":"LogTable.tsx"})})},{})]})},"data-sentry-element":"DataGrid","data-sentry-source-file":"LogTable.tsx"}),(0,_.createPortal)((0,a.jsx)(S.v2,{id:ef,animation:!1,children:(0,a.jsxs)(S.ck,{onClick:()=>{if(ee){var e;let{row:t,column:s}=ee,a=eS(null!==(e=null==t?void 0:t[s.name])&&void 0!==e?e:"");(0,N.vQ)(a)}},children:[(0,a.jsx)(c.Z,{size:14}),(0,a.jsx)("span",{className:"ml-2 text-xs",children:"Copy cell content"})]})}),document.body)]}),(0,a.jsx)(T.Dp,{withHandle:!0,"data-sentry-element":"ResizableHandle","data-sentry-source-file":"LogTable.tsx"}),es&&(0,a.jsx)(T.ee,{minSize:40,defaultSize:50,children:(0,a.jsx)(eo,{isLoading:G||!1,projectRef:L,onClose:()=>{null==X||X(null),ea(!1)},log:K,error:q,queryType:s,collectionName:V})})]})]}):null}},68218:function(e,t,s){var a=s(97458),n=s(87256),r=s(28977),l=s.n(r),o=s(52983),i=s(99794),d=s(52176),c=s(11971),u=s(19224),x=s(57463);t.Z=e=>{let{to:t,from:s,onChange:r,helpers:m}=e,f=(0,u.PJ)(m),[h,p]=(0,o.useState)(t||s?"":f.text),g=m.find(e=>t===e.calcTo()&&s===e.calcFrom());return(0,o.useEffect)(()=>{g&&h!==g.text?p(g.text):!g&&(t||s)&&p("")},[g,t,s]),(0,a.jsxs)("div",{className:"flex items-center","data-sentry-component":"DatePickers","data-sentry-source-file":"Logs.DatePickers.tsx",children:[(0,a.jsxs)(i.h_,{"data-sentry-element":"DropdownMenu","data-sentry-source-file":"Logs.DatePickers.tsx",children:[(0,a.jsx)(i.$F,{asChild:!0,"data-sentry-element":"DropdownMenuTrigger","data-sentry-source-file":"Logs.DatePickers.tsx",children:(0,a.jsx)(d.z,{type:h?"secondary":"default",icon:(0,a.jsx)(x.Z,{size:12}),className:"rounded-r-none","data-sentry-element":"Button","data-sentry-source-file":"Logs.DatePickers.tsx",children:(0,a.jsx)("span",{children:(null==g?void 0:g.text)||f.text})})}),(0,a.jsx)(i.AW,{side:"bottom",align:"start","data-sentry-element":"DropdownMenuContent","data-sentry-source-file":"Logs.DatePickers.tsx",children:(0,a.jsx)(i._x,{onValueChange:e=>{let t=m.find(t=>t.text===e);r&&t&&r({to:t.calcTo(),from:t.calcFrom()})},value:(null==g?void 0:g.text)||"","data-sentry-element":"DropdownMenuRadioGroup","data-sentry-source-file":"Logs.DatePickers.tsx",children:m.map(e=>(0,a.jsx)(i.qB,{value:e.text,disabled:e.disabled,children:(0,a.jsx)("span",{className:[e.disabled?"text-foreground-light cursor-not-allowed":""].join(" "),children:e.text})},e.text))})})]}),(0,a.jsx)(n.M,{triggerButtonClassName:"rounded-l-none",triggerButtonType:g?"default":"secondary",triggerButtonTitle:"Custom",onChange:e=>{p(""),r&&r(e)},to:h?void 0:t,from:h?void 0:s,renderFooter:e=>{let{to:t,from:s}=e;if(t&&s&&Math.abs(l()(s).diff(l()(t),"day"))>u.$K)return(0,a.jsx)(c.b,{title:"",variant:"warning",className:"mx-3 pl-2 pr-2 pt-1 pb-2",children:"Large ranges may result in memory errors for big projects."})},"data-sentry-element":"DatePicker","data-sentry-source-file":"Logs.DatePickers.tsx"})]})}},94136:function(e,t,s){s.d(t,{TK:function(){return m},VG:function(){return u},VK:function(){return i},XA:function(){return x},Yj:function(){return c},tS:function(){return d},wv:function(){return f}});var a=s(97458),n=s(53198);s(52983);var r=s(98632),l=s(20687),o=s(63736);s(28977);let i=e=>{let{children:t}=e;return(0,a.jsx)("div",{className:"flex h-full w-full items-center gap-4","data-sentry-component":"RowLayout","data-sentry-source-file":"LogsFormatters.tsx",children:t})},d=e=>{let{value:t}=e;return(0,a.jsx)(c,{label:"Timestamp",value:(0,r.Sj)(t)?(0,r.tI)(t):String(t),"data-sentry-element":"SelectionDetailedRow","data-sentry-component":"SelectionDetailedTimestampRow","data-sentry-source-file":"LogsFormatters.tsx"})},c=e=>{let{label:t,value:s,valueRender:r}=e;return(0,a.jsxs)("div",{className:"group flex items-center gap-2 flex-wrap","data-sentry-component":"SelectionDetailedRow","data-sentry-source-file":"LogsFormatters.tsx",children:[(0,a.jsx)("span",{className:"text-foreground-lighter text-sm col-span-3 whitespace-pre-wrap",children:t}),(0,a.jsx)("span",{title:s,className:"truncate font-mono text-foreground text-sm whitespace-pre-wrap break-all",children:null!=r?r:s}),(0,a.jsx)(n.Z,{iconOnly:!0,text:s,className:"group-hover:opacity-100 opacity-0 p-0 h-6 w-6",type:"text",title:"Copy to clipboard","data-sentry-element":"CopyButton","data-sentry-source-file":"LogsFormatters.tsx"})]})},u=e=>{let{value:t,className:s}=e;return(0,a.jsx)("span",{className:"font-mono text-xs truncate "+s,"data-sentry-component":"TextFormatter","data-sentry-source-file":"LogsFormatters.tsx",children:t})},x=e=>{let{value:t}=e;if(!t)return(0,a.jsx)("div",{children:(0,a.jsx)("label",{className:"text-xs text-border-stronger",children:"No data"})});switch(t.toString().split("")[0]){case"1":case"2":return(0,a.jsx)("div",{className:"flex h-full items-center",children:(0,a.jsx)("div",{className:"relative flex h-6 items-center justify-center rounded border bg-surface-200 px-2 py-1 text-center",children:(0,a.jsx)("label",{className:"block font-mono text-sm text-foreground-lighter",children:t})})});case"5":return(0,a.jsx)("div",{className:"flex h-full items-center",children:(0,a.jsx)("div",{className:"relative flex h-6 items-center justify-center rounded bg-red-400 px-2 py-1 text-center  ",children:(0,a.jsx)("label",{className:"block font-mono text-sm text-red-1100",children:t})})});case"4":case"3":return(0,a.jsx)("div",{className:"flex h-full items-center",children:(0,a.jsx)("div",{className:"relative flex h-6 items-center justify-center rounded bg-amber-400 px-2 py-1 text-center  ",children:(0,a.jsx)("label",{className:"block font-mono text-sm text-amber-1100",children:t})})});default:return(0,a.jsx)("div",{className:"flex h-full items-center",children:(0,a.jsx)("div",{className:"relative flex h-6 items-center justify-center rounded bg-surface-100 px-2 py-1 text-center  ",children:(0,a.jsx)("label",{className:"block font-mono text-sm text-foreground-lighter",children:t})})})}},m=e=>{let{value:t,uppercase:s=!0}=e;if(!t)return(0,a.jsx)("div",{children:(0,a.jsx)("label",{className:"text-xs text-border-stronger",children:"No data"})});let n=t.toUpperCase(),r=s?n:t,i=e=>{let{className:t,children:s}=e;return(0,a.jsx)("div",{className:"w-24 flex items-center h-full ".concat(t),"data-sentry-component":"Layout","data-sentry-source-file":"LogsFormatters.tsx",children:s})};switch(n){case"UNCAUGHTEXCEPTION":case"PANIC":case"FATAL":case"ERROR":return(0,a.jsxs)(i,{className:"gap-1",children:[(0,a.jsx)("div",{className:" p-0.5 rounded !text-red-900",children:(0,a.jsx)(l.Z,{size:14,strokeWidth:2})}),(0,a.jsx)("span",{className:"!text-red-900 !block titlecase",children:r})]});case"INFO":case"DEBUG":return(0,a.jsxs)(i,{className:"gap-1",children:[(0,a.jsx)("div",{className:" p-0.5 rounded !text-blue-900",children:(0,a.jsx)(l.Z,{size:14,strokeWidth:2})}),(0,a.jsx)("span",{className:"!text-blue-900 !block titlecase",children:r})]});case"LOG":return(0,a.jsxs)(i,{className:"gap-1",children:[(0,a.jsx)("div",{className:" p-0.5 rounded !text-blue-900",children:(0,a.jsx)(o.Z,{size:14,strokeWidth:2})}),(0,a.jsx)("span",{className:"!text-blue-900 !block titlecase",children:r})]});case"WARNING":return(0,a.jsxs)(i,{className:"gap-1",children:[(0,a.jsx)("div",{className:" p-0.5 rounded !text-amber-900",children:(0,a.jsx)(l.Z,{size:14,strokeWidth:2})}),(0,a.jsx)("span",{className:"!text-amber-900 !block titlecase",children:r})]});default:return(0,a.jsx)(i,{children:(0,a.jsx)("div",{className:"relative rounded px-2 py-1 text-center h-6 flex justify-center items-center bg-surface-100",children:(0,a.jsx)("label",{className:"block font-mono text-sm text-foreground-lighter",children:r})})})}};function f(e){let t=JSON.stringify(e,null,2);return(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(e){var t="number text-tomato-900";return/^"/.test(e)?t=/:$/.test(e)?"key text-foreground":"string text-brand-600":/true|false/.test(e)?t="boolean text-blue-900":/null/.test(e)&&(t="null text-amber-1100"),'<span class="'+t+'">'+e+"</span>"}).split("\n").map(e=>'<span class="line text-xs">'.concat(e,"</span>")).join("\n")}},97701:function(e,t,s){s.d(t,{i:function(){return l}});var a=s(97458),n=s(81343);let r=()=>(0,a.jsx)("div",{className:"relative flex h-4 w-32 items-center rounded border border-dashed border-stronger px-2","data-sentry-component":"EmptyStateRow","data-sentry-source-file":"LogsTableEmptyState.tsx"});function l(e){let{title:t="No results found",description:s="Try another search or adjust the filters"}=e;return(0,a.jsxs)("div",{className:"flex scale-100 flex-col items-center justify-center gap-6 text-center opacity-100 h-full","data-sentry-component":"LogsTableEmptyState","data-sentry-source-file":"LogsTableEmptyState.tsx",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1 relative",children:[(0,a.jsx)(r,{"data-sentry-element":"EmptyStateRow","data-sentry-source-file":"LogsTableEmptyState.tsx"}),(0,a.jsx)(r,{"data-sentry-element":"EmptyStateRow","data-sentry-source-file":"LogsTableEmptyState.tsx"}),(0,a.jsx)(r,{"data-sentry-element":"EmptyStateRow","data-sentry-source-file":"LogsTableEmptyState.tsx"}),(0,a.jsx)(n.Z,{size:30,className:"absolute right-3 -bottom-2 text-foreground-lighter","data-sentry-element":"Search","data-sentry-source-file":"LogsTableEmptyState.tsx"})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1 px-5",children:[(0,a.jsx)("h3",{className:"text-lg text-foreground",children:t}),(0,a.jsx)("p",{className:"text-sm max-w-xs text-foreground-lighter",children:s})]})]})}},38804:function(e,t,s){var a=s(97458),n=s(80459),r=s(52983),l=s(84012),o=s(59158),i=s(52176);t.Z=e=>{let{onClick:t,buttonType:s="default",icon:d,children:c,disabled:u,data:x,title:m}=e,f=(0,r.useRef)(null),h=()=>{var e;null===(e=f.current)||void 0===e||e.link.click()},p=(0,r.useMemo)(()=>{let e=null==x?void 0:x[0];if(!e||!x)return;let t=Object.keys(e);return x.map(e=>t.reduce((t,s)=>("object"==typeof e[s]?t[s]=JSON.stringify(e[s]):t[s]=String(e[s]),t),{}))},[JSON.stringify(x)]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.CSVLink,{ref:f,className:"hidden",data:p||[],filename:"supabase_logs.csv",title:m,"data-sentry-element":"CSVLink","data-sentry-source-file":"CSVButton.tsx"}),(0,a.jsxs)(o.u,{delayDuration:100,"data-sentry-element":"Tooltip_Shadcn_","data-sentry-source-file":"CSVButton.tsx",children:[(0,a.jsx)(o.aJ,{asChild:!0,"data-sentry-element":"TooltipTrigger_Shadcn_","data-sentry-source-file":"CSVButton.tsx",children:(0,a.jsx)(i.z,{type:s,icon:d||(0,a.jsx)(n.Z,{}),disabled:u,className:"px-1.5",onClick:e=>{t&&t(e),h()},"data-sentry-element":"Button","data-sentry-source-file":"CSVButton.tsx",children:c})}),(0,a.jsx)(o._v,{side:"bottom",className:"text-xs","data-sentry-element":"TooltipContent_Shadcn_","data-sentry-source-file":"CSVButton.tsx",children:"Download logs as CSV"})]})]})}},87256:function(e,t,s){s.d(t,{M:function(){return w}});var a=s(97458),n=s(45262),r=s(28977),l=s.n(r),o=s(23523),i=s(3749),d=s(4415),c=s(2526),u=s(52983),x=s(34676),m=s.n(x),f=s(89112),h=s(52176),p=s(10942),g=s(57463),v=e=>{let{type:t,time:s,setTime:r,setStartTime:l,setEndTime:o,startTime:i,endTime:d,startDate:c,endDate:x}=e,[m,f]=(0,u.useState)(!1);function h(){1===s.HH.length&&(s.HH="0"+s.HH),1===s.mm.length&&(s.mm="0"+s.mm),1===s.ss.length&&(s.ss="0"+s.ss),s.HH||(s.HH="00"),s.mm||(s.mm="00"),s.ss||(s.ss="00");let e=!1,a=!1;(0,n.default)(new Date(c),"dd/mm/yyyy")==(0,n.default)(new Date(x),"dd/mm/yyyy")&&("start"===t&&(s.HH&&Number(s.HH)>Number(d.HH)&&(d.HH=s.HH,e=!0),s.HH&&Number(s.HH)>=Number(d.HH)&&s.mm&&Number(s.mm)>Number(d.mm)&&(d.mm=s.mm,e=!0),s.HH&&Number(s.HH)>=Number(d.HH)&&s.mm&&Number(s.mm)>=Number(d.mm)&&s.ss&&Number(s.ss)>Number(d.ss)&&(d.ss=s.ss,e=!0)),"end"===t&&(s.HH&&Number(s.HH)<Number(i.HH)&&(i.HH=s.HH,a=!0),s.HH&&Number(s.HH)<=Number(i.HH)&&s.mm&&Number(s.mm)<Number(i.mm)&&(i.mm=s.mm,a=!0),s.HH&&Number(s.HH)<=Number(i.HH)&&s.mm&&Number(s.mm)<=Number(i.mm)&&s.ss&&Number(s.ss)<Number(i.ss)&&(i.ss=s.ss,a=!0))),r({...s}),e&&o({...d}),a&&l({...i}),f(!1)}function p(e,t){let a={HH:s.HH,mm:s.mm,ss:s.ss};if(!(e.length>2)){switch(t){case"HH":if(e&&Number(e)>23)return;break;case"mm":case"ss":if(e&&Number(e)>59)return}a[t]=e,r({...a})}}let v=e=>{e.target.select(),f(!0)};return(0,u.useEffect)(()=>{h()},[c,x]),(0,a.jsxs)("div",{className:"\n        flex h-7 items-center justify-center\n        gap-0 rounded border border-strong bg-surface-100 text-xs text-foreground-light\n        ".concat(m&&" border-stronger outline outline-2 outline-border","\n    "),"data-sentry-component":"TimeSplitInput","data-sentry-source-file":"TimeSplitInput.tsx",children:[(0,a.jsx)("div",{className:"mr-1 text-foreground-lighter",children:(0,a.jsx)(g.Z,{size:14,strokeWidth:1.5,"data-sentry-element":"Clock","data-sentry-source-file":"TimeSplitInput.tsx"})}),(0,a.jsx)("input",{type:"text",onBlur:()=>h(),onFocus:v,pattern:"[0-23]*",placeholder:"00",onChange:e=>p(e.target.value,"HH"),"aria-label":"Hours",className:" ring-none w-4 border-none bg-transparent p-0 text-center text-xs text-foreground outline-none ring-0 focus:ring-0 ",value:s.HH}),(0,a.jsx)("span",{className:"text-foreground-lighter",children:":"}),(0,a.jsx)("input",{type:"text",onBlur:()=>h(),onFocus:v,pattern:"[0-12]*",placeholder:"00",onChange:e=>p(e.target.value,"mm"),"aria-label":"Minutes",className:" ring-none w-4 border-none bg-transparent p-0 text-center text-xs text-foreground outline-none ring-0 focus:ring-0 ",value:s.mm}),(0,a.jsx)("span",{className:"text-foreground-lighter",children:":"}),(0,a.jsx)("input",{type:"text",onBlur:()=>h(),onFocus:v,pattern:"[0-59]*",placeholder:"00",onChange:e=>p(e.target.value,"ss"),"aria-label":"Seconds",className:" ring-none w-4 border-none bg-transparent p-0 text-center text-xs text-foreground outline-none ring-0 focus:ring-0 ",value:s.ss})]})};let j=new Date,y=new Date,b={HH:"00",mm:"00",ss:"00"},N={HH:"23",mm:"59",ss:"59"};var w=function(e){let{to:t,from:s,onChange:r,triggerButtonType:x="default",triggerButtonClassName:g="",triggerButtonTitle:w,minDate:S,maxDate:_,hideTime:D=!1,hideClear:R=!1,selectsRange:k=!0,renderFooter:T=()=>null,children:C}=e,[H,L]=(0,u.useState)(!1),[E,M]=(0,u.useState)(null),[P,I]=(0,u.useState)(null),[F,z]=(0,u.useState)(j),[A,O]=(0,u.useState)(y),[Z,W]=(0,u.useState)(b),[V,Y]=(0,u.useState)(N);return(0,u.useEffect)(()=>{if(s){if(s!==(null==E?void 0:E.toISOString())){let e=l()(s),t=e.toDate();M(t),z(t),W({HH:e.format("HH"),mm:e.format("mm"),ss:e.format("ss")})}}else M(null);if(t){if(t!==(null==P?void 0:P.toISOString())){let e=l()(t),s=e.toDate();I(s),O(s),Y({HH:e.format("HH"),mm:e.format("mm"),ss:e.format("ss")})}}else I(null)},[t,s]),(0,a.jsxs)(f.J2,{open:H,onOpenChange:L,"data-sentry-element":"Popover_Shadcn_","data-sentry-component":"_DatePicker","data-sentry-source-file":"DatePicker.tsx",children:[(0,a.jsx)(f.xo,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"DatePicker.tsx",children:(0,a.jsx)(h.z,{title:w,type:x,icon:(0,a.jsx)(o.Z,{}),className:g,"data-sentry-element":"Button","data-sentry-source-file":"DatePicker.tsx",children:void 0!==C?C:(0,a.jsx)(a.Fragment,{children:k&&E&&P&&E!==P?(0,a.jsxs)(a.Fragment,{children:[(0,n.default)(new Date(E),"dd MMM")," -"," ",(0,n.default)(new Date(P),"dd MMM")]}):E||P?(0,n.default)(new Date(E||P),"dd MMM"):"Custom"})})}),(0,a.jsx)(f.yk,{align:"center",side:"bottom",className:"p-0","data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"DatePicker.tsx",children:(0,a.jsxs)(a.Fragment,{children:[D?null:(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex items-stretch justify-between py-2",children:[k?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex grow flex-col gap-1 pl-2",children:(0,a.jsx)(v,{type:"start",startTime:Z,endTime:V,time:Z,setTime:W,setStartTime:W,setEndTime:Y,startDate:F,endDate:A})}),(0,a.jsx)("div",{className:"\n                      flex \n                      w-12 \n                      items-center \n                      justify-center\n                      text-foreground-lighter\n                    ",children:(0,a.jsx)(i.Z,{strokeWidth:1.5,size:14})})]}):null,(0,a.jsx)("div",{className:"flex grow flex-col gap-1 pr-2",children:(0,a.jsx)(v,{type:"end",startTime:Z,endTime:V,time:V,setTime:Y,setStartTime:W,setEndTime:Y,startDate:F,endDate:A})})]})}),(0,a.jsx)("div",{className:"p-2",children:(0,a.jsx)(m(),{inline:!0,selectsRange:k,selected:F,onChange:e=>{!function(e){if(e){if(e instanceof Date)z(e),O(e);else{let[t,s]=e;z(t),O(s)}}else z(null),O(null)}(e)},dateFormat:"MMMM d, yyyy h:mm aa",startDate:F,endDate:A,minDate:S,maxDate:_,dayClassName:()=>"cursor-pointer",renderCustomHeader:e=>{let{date:t,decreaseMonth:s,increaseMonth:r,prevMonthButtonDisabled:l,nextMonthButtonDisabled:o}=e;return(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,a.jsx)("button",{onClick:s,disabled:l,type:"button",className:"\n                        ".concat(l&&"cursor-not-allowed opacity-50","\n                        text-foreground-light hover:text-foreground focus:outline-none p-2\n                    "),children:(0,a.jsx)(d.Z,{size:16,strokeWidth:2})}),(0,a.jsx)("span",{className:"text-sm text-foreground-light",children:(0,n.default)(t,"MMMM yyyy")}),(0,a.jsx)("button",{onClick:r,disabled:o,type:"button",className:"\n                        ".concat(o&&"cursor-not-allowed opacity-50","\n                        text-foreground-light p-2 hover:text-foreground focus:outline-none\n                    "),children:(0,a.jsx)(c.Z,{size:16,strokeWidth:2})})]})})},"data-sentry-element":"DatePicker","data-sentry-source-file":"DatePicker.tsx"})}),T({from:(null==F?void 0:F.toISOString())||null,to:(null==A?void 0:A.toISOString())||null}),(0,a.jsx)(p.Z.Separator,{"data-sentry-element":"unknown","data-sentry-source-file":"DatePicker.tsx"}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2 py-2 px-3 pb-4",children:[!R&&(0,a.jsx)(h.z,{type:"default",onClick:()=>void(L(!1),z(j),O(y),W(b),Y(N),M(null),I(null),r&&r({from:null,to:null})),children:"Clear"}),(0,a.jsx)(h.z,{onClick:()=>(function(){L(!1),M(F),I(A);let e={from:l()(F).second(Number(Z.ss)).minute(Number(Z.mm)).hour(Number(Z.HH)).toISOString(),to:l()(A||F).second(Number(V.ss)).minute(Number(V.mm)).hour(Number(V.HH)).toISOString()};r&&r(e)})(),"data-sentry-element":"Button","data-sentry-source-file":"DatePicker.tsx",children:"Apply"})]})]})})]})}},90784:function(e,t,s){var a=s(97458);t.Z=e=>{let{children:t,active:s,className:n}=e;return(0,a.jsx)("div",{className:[n,"flex h-full flex-grow transition-opacity ",s?"opacity-30":"opacity-100"].join(" "),"data-sentry-component":"LoadingOpacity","data-sentry-source-file":"LoadingOpacity.tsx",children:t})}},11971:function(e,t,s){s.d(t,{b:function(){return x}});var a=s(97458),n=s(52983),r=s(86815),l=s(42685),o=s(44426),i=s(62985),d=s(63736),c=s(94849);let u={danger:(0,a.jsx)(l.Z,{strokeWidth:1.5,size:18}),success:(0,a.jsx)(o.Z,{strokeWidth:1.5,size:18}),warning:(0,a.jsx)(i.Z,{strokeWidth:1.5,size:18}),info:(0,a.jsx)(d.Z,{strokeWidth:1.5,size:18}),neutral:(0,a.jsx)(a.Fragment,{})};function x(e){let{variant:t="neutral",className:s,title:l,withIcon:o,closable:i,children:d,icon:x,actions:m}=e,f=(0,r.Z)("alert"),[h,p]=(0,n.useState)(!0),g=[f.base];g.push(f.variant[t].base),s&&g.push(s);let v=[f.description,f.variant[t].description],j=[f.close];return(0,a.jsx)(a.Fragment,{children:h&&(0,a.jsxs)("div",{className:g.join(" "),children:[o?(0,a.jsx)("div",{className:f.variant[t].icon,children:o&&u[t]}):null,x&&x,(0,a.jsxs)("div",{className:"flex flex-1 items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:[f.variant[t].header,f.header].join(" "),children:l}),(0,a.jsx)("div",{className:v.join(" "),children:d})]}),m]}),i&&(0,a.jsx)("button",{"aria-label":"Close alert",onClick:()=>p(!1),className:j.join(" "),children:(0,a.jsx)(c.Z,{strokeWidth:2,size:16})})]})})}}}]);