!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="2afd721f-26d9-481d-9114-bbf5dc9722a1",e._sentryDebugIdIdentifier="sentry-dbid-2afd721f-26d9-481d-9114-bbf5dc9722a1")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2273],{62273:function(e,t,n){n.d(t,{Hk:function(){return B},vI:function(){return G},Zv:function(){return es},ds:function(){return en}});var s=n(97458),a=n(198),r=n(28977),i=n.n(r),l=n(19215),o=n(61749),d=n(17657),c=n(78279),u=n(29247),m=n.n(u),x=n(79367),f=n(52983),h=n(34549),p=n(63413),j=n(79387),y=n(96524),g=n(80865),v=n(42522),b=n(40626),N=n(27879),w=n(90874),F=n(71061),E=n(36457),k=n(64618),S=n(23346),C=n(42270);async function D(e){let{projectRef:t,slug:n}=e;if(!t)throw Error("projectRef is required");let{data:s,error:a}=await (0,S.IV)("/v1/projects/{ref}/functions/{function_slug}",{params:{path:{ref:t,function_slug:n}}});return a&&(0,S.S3)(a),s}let _=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=(0,E.NL)();return(0,k.D)(e=>D(e),{async onSuccess(t,n,a){let{projectRef:r}=n;await s.invalidateQueries(C.f.list(r),{refetchType:"all"}),await (null==e?void 0:e(t,n,a))},async onError(e,n,s){void 0===t?h.Am.error("Failed to delete edge function: ".concat(e.message)):t(e,n,s)},...n})};async function A(e){let{projectRef:t,slug:n,payload:s}=e;if(!t)throw Error("projectRef is required");let{data:a,error:r}=await (0,S.r$)("/v1/projects/{ref}/functions/{function_slug}",{params:{path:{ref:t,function_slug:n}},body:s});return r&&(0,S.S3)(r),a}let Z=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=(0,E.NL)();return(0,k.D)(e=>A(e),{async onSuccess(t,n,a){let{projectRef:r,slug:i}=n;await Promise.all([s.invalidateQueries(C.f.detail(r,i)),s.invalidateQueries(C.f.list(r))]),await (null==e?void 0:e(t,n,a))},async onError(e,n,s){void 0===t?h.Am.error("Failed to update edge function: ".concat(e.message)):t(e,n,s)},...n})};var R=n(40809),T=n(55060),I=n(399),L=n(71913),Y=n(39635),z=n(52176),O=n(65832),M=n(67962),U=n(72866),V=n(90638);let P=(e,t,n)=>({managementCommands:[{command:"supabase functions deploy ".concat(null==e?void 0:e.slug),description:"This will overwrite the deployed function with your new function",jsx:()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-brand-600",children:"supabase"})," functions deploy"," ",null==e?void 0:e.slug]}),comment:"Deploy a new version"},{command:"supabase functions delete ".concat(null==e?void 0:e.slug),description:"This will remove the function and all the logs associated with it",jsx:()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-brand-600",children:"supabase"})," functions delete"," ",null==e?void 0:e.slug]}),comment:"Delete the function"}],secretCommands:[{command:"supabase secrets list",description:"This will list all the secrets for your project",jsx:()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-brand-600",children:"supabase"})," secrets list"]}),comment:"View all secrets"},{command:"supabase secrets set NAME1=VALUE1 NAME2=VALUE2",description:"This will set secrets for your project",jsx:()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-brand-600",children:"supabase"})," secrets set NAME1=VALUE1 NAME2=VALUE2"]}),comment:"Set secrets for your project"},{command:"supabase secrets unset NAME1 NAME2 ",description:"This will delete secrets for your project",jsx:()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-brand-600",children:"supabase"})," secrets unset NAME1 NAME2"]}),comment:"Unset secrets for your project"}],invokeCommands:[{command:"curl -L -X POST '".concat(t,"' -H 'Authorization: Bearer ").concat(null!=n?n:"[YOUR ANON KEY]",'\' --data \'{"name":"Functions"}\''),description:"Invokes the hello function",jsx:()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-brand-600",children:"curl"})," -L -X POST '",t,"' -H 'Authorization: Bearer [YOUR ANON KEY]' ",'--data \'{"name":"Functions"}\'']}),comment:"Invoke your function"}]});var B=()=>{var e,t,n,r,u,E;let k=(0,x.useRouter)(),{ref:S,functionSlug:C}=(0,p.UO)(),[D,A]=(0,f.useState)(!1),[B,H]=(0,f.useState)(!1),{data:W}=(0,N.zR)({projectRef:S}),{data:X}=(0,w.z)({projectRef:S}),{data:K}=(0,F.J)({projectRef:S,slug:C}),{mutate:q,isLoading:J}=Z(),{mutate:G,isLoading:Q}=_({onSuccess:()=>{h.Am.success('Successfully deleted "'.concat(null==K?void 0:K.name,'"')),k.push("/project/".concat(S,"/functions"))}}),$="edge-function-update-form",ee=(0,R.Xo)(a.KA.FUNCTIONS_WRITE,"*"),{anonKey:et}=(0,N.Pb)(W),en=null!==(r=null==et?void 0:et.api_key)&&void 0!==r?r:"[YOUR ANON KEY]",es=null!==(u=null==W?void 0:null===(e=W.app_config)||void 0===e?void 0:e.protocol)&&void 0!==u?u:"https",ea=null!==(E=null==W?void 0:null===(t=W.app_config)||void 0===t?void 0:t.endpoint)&&void 0!==E?E:"",er=(null==X?void 0:null===(n=X.customDomain)||void 0===n?void 0:n.status)==="active"?"https://".concat(X.customDomain.hostname,"/functions/v1/").concat(null==K?void 0:K.slug):"".concat(es,"://").concat(ea,"/functions/v1/").concat(null==K?void 0:K.slug),{managementCommands:ei,secretCommands:el,invokeCommands:eo}=P(K,er,en),ed=async(e,t)=>{let{resetForm:n}=t;return S?void 0===K?console.error("No edge function selected"):void q({projectRef:S,slug:K.slug,payload:e},{onSuccess:()=>{n({values:e,initialValues:e}),h.Am.success("Successfully updated edge function")}}):console.error("Project ref is required")},ec=async()=>S?void 0===K?console.error("No edge function selected"):void G({projectRef:S,slug:K.slug}):console.error("Project ref is required"),eu=(0,f.useMemo)(()=>(null==K?void 0:K.import_map)||(null==K?void 0:K.import_map_path),[K]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"space-y-4 pb-16 pt-3",children:[(0,s.jsx)(T.Z,{id:$,initialValues:{},onSubmit:ed,"data-sentry-element":"Form","data-sentry-source-file":"EdgeFunctionDetails.tsx",children:e=>{var t,n,a;let{handleReset:r,values:o,initialValues:d,resetForm:c}=e,u=JSON.stringify(o)!==JSON.stringify(d);return(0,f.useEffect)(()=>{if(void 0!==K){let e={name:null==K?void 0:K.name,verify_jwt:null==K?void 0:K.verify_jwt};c({values:e,initialValues:e})}},[K]),(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(v.by,{disabled:!ee,footer:(0,s.jsx)("div",{className:"flex py-4 px-8",children:(0,s.jsx)(y.i,{form:$,isSubmitting:J,hasChanges:u,handleReset:r,helper:ee?void 0:"You need additional permissions to update this function"})}),children:[(0,s.jsx)(b.hj,{header:(0,s.jsx)(b.S0,{children:"Function Details"}),children:(0,s.jsxs)(b.B4,{loading:void 0===K,children:[(0,s.jsx)(I.Z,{id:"name",name:"name",label:"Name",disabled:!ee}),(0,s.jsx)(I.Z,{disabled:!0,id:"slug",name:"slug",label:"Slug",value:null==K?void 0:K.slug}),(0,s.jsx)(I.Z,{disabled:!0,copy:!0,label:"Endpoint URL",value:er}),(0,s.jsx)(I.Z,{disabled:!0,label:"Region",value:"All functions are deployed globally"}),(0,s.jsx)(I.Z,{disabled:!0,label:"Created at",value:i()(null!==(t=null==K?void 0:K.created_at)&&void 0!==t?t:0).format("dddd, MMMM D, YYYY h:mm A")}),(0,s.jsx)(I.Z,{disabled:!0,label:"Last updated at",value:i()(null!==(n=null==K?void 0:K.updated_at)&&void 0!==n?n:0).format("dddd, MMMM D, YYYY h:mm A")}),(0,s.jsx)(I.Z,{disabled:!0,label:"Deployments",value:null!==(a=null==K?void 0:K.version)&&void 0!==a?a:0})]})}),(0,s.jsx)(b.hj,{header:(0,s.jsx)(b.S0,{children:"Function Configuration"}),children:(0,s.jsxs)(b.B4,{loading:void 0===K,children:[(0,s.jsx)(L.Z,{id:"verify_jwt",name:"verify_jwt",disabled:!ee,label:"Enforce JWT Verification",descriptionText:"Require a valid JWT in the authorization header when invoking the function"}),(0,s.jsxs)("div",{className:"space-y-1 border rounded border-default bg-surface-200 px-4 py-4",children:[(0,s.jsx)("div",{className:"flex items-center space-x-2",children:(0,s.jsxs)("p",{className:"text-sm",children:["Import maps are"," ",(0,s.jsx)("span",{className:(0,Y.cn)(eu?"text-brand":"text-amber-900"),children:eu?"used":"not used"})," ","for this function"]})}),(0,s.jsx)("p",{className:"text-sm text-foreground-light",children:"Import maps allow the use of bare specifiers in functions instead of explicit import URLs"}),(0,s.jsx)("div",{className:"!mt-4",children:(0,s.jsx)(z.z,{asChild:!0,type:"default",icon:(0,s.jsx)(l.Z,{strokeWidth:1.5}),children:(0,s.jsx)(m(),{href:"https://supabase.com/docs/guides/functions/import-maps",target:"_blank",rel:"noreferrer",children:"More about import maps"})})})]})]})})]})})}}),(0,s.jsxs)("div",{className:"space-y-6 rounded border bg-surface-100 px-6 py-4 drop-shadow-sm transition-all overflow-hidden",style:{maxHeight:B?800:66},children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded border bg-foreground p-2 text-background",children:(0,s.jsx)(o.Z,{size:18,strokeWidth:2,"data-sentry-element":"Terminal","data-sentry-source-file":"EdgeFunctionDetails.tsx"})}),(0,s.jsx)("h4",{children:"Command line access"})]}),(0,s.jsx)("div",{className:"cursor-pointer",onClick:()=>H(!B),children:B?(0,s.jsx)(d.Z,{size:14,strokeWidth:1.5}):(0,s.jsx)(c.Z,{size:14,strokeWidth:1.5})})]}),(0,s.jsx)("h5",{className:"text-base",children:"Deployment management"}),(0,s.jsx)(V.Z,{commands:ei,"data-sentry-element":"CommandRender","data-sentry-source-file":"EdgeFunctionDetails.tsx"}),(0,s.jsx)("h5",{className:"text-base",children:"Invoke "}),(0,s.jsx)(V.Z,{commands:eo,"data-sentry-element":"CommandRender","data-sentry-source-file":"EdgeFunctionDetails.tsx"}),(0,s.jsx)("h5",{className:"text-base",children:"Secrets management"}),(0,s.jsx)(V.Z,{commands:el,"data-sentry-element":"CommandRender","data-sentry-source-file":"EdgeFunctionDetails.tsx"})]}),(0,s.jsxs)("div",{className:"!mt-8",children:[(0,s.jsx)(g.p,{title:"Delete Edge Function",description:"","data-sentry-element":"FormHeader","data-sentry-source-file":"EdgeFunctionDetails.tsx"}),(0,s.jsxs)(O.bZ,{variant:"destructive","data-sentry-element":"Alert_Shadcn_","data-sentry-source-file":"EdgeFunctionDetails.tsx",children:[(0,s.jsx)(M.ku,{"data-sentry-element":"CriticalIcon","data-sentry-source-file":"EdgeFunctionDetails.tsx"}),(0,s.jsx)(O.Cd,{"data-sentry-element":"AlertTitle_Shadcn_","data-sentry-source-file":"EdgeFunctionDetails.tsx",children:"Once your function is deleted, it can no longer be restored"}),(0,s.jsx)(O.X,{"data-sentry-element":"AlertDescription_Shadcn_","data-sentry-source-file":"EdgeFunctionDetails.tsx",children:"Make sure you have made a backup if you want to restore your edge function"}),(0,s.jsx)(O.X,{className:"mt-3","data-sentry-element":"AlertDescription_Shadcn_","data-sentry-source-file":"EdgeFunctionDetails.tsx",children:(0,s.jsx)(j.u,{type:"danger",disabled:!ee,loading:(null==K?void 0:K.id)===void 0,onClick:()=>A(!0),tooltip:{content:{side:"bottom",text:ee?void 0:"You need additional permissions to delete edge functions"}},"data-sentry-element":"ButtonTooltip","data-sentry-source-file":"EdgeFunctionDetails.tsx",children:"Delete edge function"})})]})]})]}),(0,s.jsx)(U.Z,{size:"small",alignFooter:"right",header:(0,s.jsxs)("h3",{children:["Confirm to delete ",null==K?void 0:K.name]}),visible:D,loading:Q,onCancel:()=>A(!1),onConfirm:ec,"data-sentry-element":"Modal","data-sentry-source-file":"EdgeFunctionDetails.tsx",children:(0,s.jsx)(U.Z.Content,{"data-sentry-element":"unknown","data-sentry-source-file":"EdgeFunctionDetails.tsx",children:(0,s.jsxs)(O.bZ,{variant:"warning","data-sentry-element":"Alert_Shadcn_","data-sentry-source-file":"EdgeFunctionDetails.tsx",children:[(0,s.jsx)(M.ku,{"data-sentry-element":"CriticalIcon","data-sentry-source-file":"EdgeFunctionDetails.tsx"}),(0,s.jsx)(O.Cd,{"data-sentry-element":"AlertTitle_Shadcn_","data-sentry-source-file":"EdgeFunctionDetails.tsx",children:"This action cannot be undone"}),(0,s.jsx)(O.X,{"data-sentry-element":"AlertDescription_Shadcn_","data-sentry-source-file":"EdgeFunctionDetails.tsx",children:"Ensure that you have made a backup if you want to restore your edge function"})]})})})]})},H=n(13948),W=n(91837),X=n(61322),K=n(85638),q=n(20787),J=n(76556),G=e=>{var t;let{function:n}=e,a=(0,x.useRouter)(),{ref:r}=(0,K.UO)(),{project:l}=(0,q.d2)(),[o,d]=(0,f.useState)(!1),{data:c}=(0,w.z)({projectRef:r}),u=null==l?void 0:l.restUrl,m=void 0!==u?new URL(u).hostname.split(".").pop():"co",h="https://".concat(r,".supabase.").concat(m,"/functions/v1/").concat(n.slug),p=(null==c?void 0:null===(t=c.customDomain)||void 0===t?void 0:t.status)==="active"?"https://".concat(c.customDomain.hostname,"/functions/v1/").concat(n.slug):h;return(0,s.jsxs)(J.Z.tr,{onClick:()=>{a.push("/project/".concat(r,"/functions/").concat(n.slug))},"data-sentry-element":"unknown","data-sentry-component":"EdgeFunctionsListItem","data-sentry-source-file":"EdgeFunctionsListItem.tsx",children:[(0,s.jsx)(J.Z.td,{"data-sentry-element":"unknown","data-sentry-source-file":"EdgeFunctionsListItem.tsx",children:(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)("p",{className:"text-sm text-foreground",children:n.name})})}),(0,s.jsx)(J.Z.td,{"data-sentry-element":"unknown","data-sentry-source-file":"EdgeFunctionsListItem.tsx",children:(0,s.jsxs)("div",{className:"text-xs text-foreground-light flex gap-2 items-center truncate",children:[(0,s.jsx)("p",{className:"font-mono truncate hidden md:inline",children:p}),(0,s.jsx)("button",{type:"button",className:"text-foreground-lighter hover:text-foreground transition",onClick:e=>{e.stopPropagation(),d(!0),navigator.clipboard.writeText(p).then(),setTimeout(function(){d(!1)},3e3)},children:o?(0,s.jsx)("div",{className:"text-brand",children:(0,s.jsx)(W.Z,{size:14,strokeWidth:3})}):(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("div",{className:"block",children:(0,s.jsx)(X.Z,{size:14,strokeWidth:1.5})})})})]})}),(0,s.jsx)(J.Z.td,{className:"hidden 2xl:table-cell","data-sentry-element":"unknown","data-sentry-source-file":"EdgeFunctionsListItem.tsx",children:(0,s.jsx)("p",{className:"text-foreground-light",children:i()(n.created_at).format("DD MMM, YYYY HH:mm")})}),(0,s.jsx)(J.Z.td,{className:"lg:table-cell","data-sentry-element":"unknown","data-sentry-source-file":"EdgeFunctionsListItem.tsx",children:(0,s.jsxs)(H.fC,{delayDuration:0,"data-sentry-element":"unknown","data-sentry-source-file":"EdgeFunctionsListItem.tsx",children:[(0,s.jsx)(H.xz,{"data-sentry-element":"unknown","data-sentry-source-file":"EdgeFunctionsListItem.tsx",children:(0,s.jsx)("div",{className:"flex items-center space-x-2",children:(0,s.jsx)("p",{className:"text-sm text-foreground-light",children:i()(n.updated_at).fromNow()})})}),(0,s.jsx)(H.h_,{"data-sentry-element":"unknown","data-sentry-source-file":"EdgeFunctionsListItem.tsx",children:(0,s.jsxs)(H.VY,{side:"bottom","data-sentry-element":"unknown","data-sentry-source-file":"EdgeFunctionsListItem.tsx",children:[(0,s.jsx)(H.Eh,{className:"radix-tooltip-arrow","data-sentry-element":"unknown","data-sentry-source-file":"EdgeFunctionsListItem.tsx"}),(0,s.jsx)("div",{className:"rounded bg-alternative py-1 px-2 leading-none shadow border border-background",children:(0,s.jsxs)("span",{className:"text-xs text-foreground",children:["Last updated on ",i()(n.updated_at).format("DD MMM, YYYY HH:mm")]})})]})})]})}),(0,s.jsx)(J.Z.td,{className:"lg:table-cell","data-sentry-element":"unknown","data-sentry-source-file":"EdgeFunctionsListItem.tsx",children:(0,s.jsx)("p",{className:"text-foreground-light",children:n.version})})]},n.id)},Q=n(55771),$=n(52470),ee=n(36219);let et=(0,f.forwardRef)((e,t)=>{var n,a,r,i,u,m;let{closable:h=!1,removeBorder:j=!1,...y}=e,g=(0,x.useRouter)(),{ref:v}=(0,p.UO)(),[b,F]=(0,f.useState)(!h),{data:E}=(0,$.h)(),{data:k}=(0,N.zR)({projectRef:v}),{data:S}=(0,w.z)({projectRef:v}),{anonKey:C}=(0,N.Pb)(k),D=null!==(i=null==C?void 0:C.api_key)&&void 0!==i?i:"[YOUR ANON KEY]",_=null!==(u=null==k?void 0:null===(n=k.app_config)||void 0===n?void 0:n.protocol)&&void 0!==u?u:"https",A=null!==(m=null==k?void 0:null===(a=k.app_config)||void 0===a?void 0:a.endpoint)&&void 0!==m?m:"",Z=(null==S?void 0:null===(r=S.customDomain)||void 0===r?void 0:r.status)==="active"?"https://".concat(S.customDomain.hostname,"/functions/v1"):"".concat(_,"://").concat(A,"/functions/v1"),R="https://".concat(A),T=R?new URL(R).hostname.split(".").pop():"co",I=[{command:"supabase functions new hello-world",description:" creates a function stub at ./functions/hello-world/index.ts",jsx:()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-brand-600",children:"supabase"})," functions new hello-world"]}),comment:"Create a function"},{command:"supabase functions deploy hello-world --project-ref ".concat(v),description:"Deploys function at ./functions/hello-world/index.ts",jsx:()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-brand-600",children:"supabase"})," functions deploy hello-world --project-ref ",v]}),comment:"Deploy your function"},{command:"curl -L -X POST 'https://".concat(v,".supabase.").concat(T,"/functions/v1/hello-world' -H 'Authorization: Bearer ").concat(null!=D?D:"[YOUR ANON KEY]",'\' --data \'{"name":"Functions"}\''),description:"Invokes the hello-world function",jsx:()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-brand-600",children:"curl"})," -L -X POST '",Z,"/hello-world' -H 'Authorization: Bearer [YOUR ANON KEY]'"," ",'--data \'{"name":"Functions"}\'']}),comment:"Invoke your function"}];return(0,s.jsxs)(ee.zF,{ref:t,open:b,className:"w-full",onOpenChange:()=>F(!b),...y,children:[(0,s.jsxs)(ee.wy,{className:"flex w-full justify-between",disabled:!h,children:[(0,s.jsxs)("div",{className:"flex items-center gap-x-3",children:[(0,s.jsx)("div",{className:"flex items-center justify-center w-8 h-8 p-2 border rounded bg-alternative",children:(0,s.jsx)(o.Z,{strokeWidth:2})}),(0,s.jsx)("h4",{children:"Create your first Edge Function via the CLI"})]}),h&&(0,s.jsx)("div",{className:"cursor-pointer",onClick:()=>F(!b),children:b?(0,s.jsx)(d.Z,{size:16,strokeWidth:1.5}):(0,s.jsx)(c.Z,{size:16,strokeWidth:1.5})})]}),(0,s.jsxs)(ee.Fw,{className:"w-full transition-all data-[state=closed]:animate-collapsible-up data-[state=open]:animate-collapsible-down",children:[(0,s.jsx)(V.Z,{commands:I,className:"my-4"}),E&&0===E.length?(0,s.jsxs)("div",{className:"px-8 py-4 space-y-3 border-t",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-foreground",children:"You may need to create an access token"}),(0,s.jsx)("p",{className:"text-sm text-foreground-light",children:"You can create a secure access token in your account section"})]}),(0,s.jsx)(z.z,{type:"default",onClick:()=>g.push("/account/tokens"),children:"Access tokens"})]}):(0,s.jsxs)("div",{className:"py-4 space-y-3 border-t",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-base text-foreground",children:"Need help?"}),(0,s.jsx)("p",{className:"text-sm text-foreground-light",children:"Read the documentation, or browse some sample code."})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(Q.G,{href:"https://supabase.com/docs/guides/functions"}),(0,s.jsx)(z.z,{asChild:!0,type:"default",icon:(0,s.jsx)(l.Z,{}),children:(0,s.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/supabase/supabase/tree/master/examples/edge-functions/supabase/functions",children:"Examples"})})]})]})]})]})});et.displayName="TerminalInstructions";var en=et,es=()=>(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"flex flex-col gap-8 w-full",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsx)("p",{className:"max-w-lg text-base text-foreground",children:"Scalable functions to run your code with no server management."}),(0,s.jsx)("p",{className:"max-w-lg text-sm text-foreground-light",children:"Edge Functions are server-side Typescript functions, distributed globally at the edge - close to your users. They can be used for listening to webhooks or integrating your Supabase project with third-parties."}),(0,s.jsxs)("div",{className:"flex gap-x-2",children:[(0,s.jsx)(Q.G,{href:"https://supabase.com/docs/guides/functions","data-sentry-element":"DocsButton","data-sentry-source-file":"FunctionsEmptyState.tsx"}),(0,s.jsx)(z.z,{asChild:!0,type:"default",icon:(0,s.jsx)(l.Z,{}),"data-sentry-element":"Button","data-sentry-source-file":"FunctionsEmptyState.tsx",children:(0,s.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/supabase/supabase/tree/master/examples/edge-functions/supabase/functions",children:"Examples"})})]})]}),(0,s.jsx)("div",{className:"col-span-8 bg-surface-100 px-5 py-4 border rounded-md",children:(0,s.jsx)(en,{"data-sentry-element":"TerminalInstructions","data-sentry-source-file":"FunctionsEmptyState.tsx"})})]})})},52470:function(e,t,n){n.d(t,{h:function(){return o}});var s=n(28894),a=n(73029),r=n(92787),i=n(54738);async function l(e){let t=await (0,a.U2)("".concat(r.T5,"/profile/access-tokens"),{signal:e});if(!(0,a.d8)(t))throw t.error;return t}let o=function(){let{enabled:e=!0,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.a)(i.C.list(),e=>{let{signal:t}=e;return l(t)},t)}},54738:function(e,t,n){n.d(t,{C:function(){return s}});let s={list:()=>["access-tokens"]}},90638:function(e,t,n){var s=n(97458),a=n(91837),r=n(61322),i=n(52983),l=n(39635);let o=(0,i.forwardRef)((e,t)=>{let{commands:n,className:a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("space-y-4",a),children:n.map((e,t)=>(0,s.jsx)(d,{item:e},"command-".concat(t)))})});o.displayName="CommandRender",t.Z=o;let d=e=>{let{item:t}=e,[n,l]=(0,i.useState)(!1);return(0,s.jsxs)("div",{className:"space-y-1","data-sentry-component":"Command","data-sentry-source-file":"CommandRender.tsx",children:[(0,s.jsx)("span",{className:"font-mono text-sm text-foreground-lighter",children:"> ".concat(t.comment)}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsxs)("div",{className:"flex gap-2 font-mono text-sm font-normal text-foreground",children:[(0,s.jsx)("span",{className:"text-foreground-lighter",children:"$"}),(0,s.jsxs)("span",{children:[(0,s.jsxs)("span",{children:[t.jsx?t.jsx():null," "]}),(0,s.jsx)("button",{type:"button",className:"text-foreground-lighter hover:text-foreground",onClick:()=>{var e;e=t.command,l(!0),navigator.clipboard.writeText(e).then(),setTimeout(function(){l(!1)},3e3)},children:n?(0,s.jsx)(a.Z,{size:14,strokeWidth:3,className:"text-brand"}):(0,s.jsx)(r.Z,{size:14})})]})]})})]})}},96524:function(e,t,n){n.d(t,{i:function(){return r}});var s=n(97458),a=n(52176);let r=e=>{let{form:t,hasChanges:n,handleReset:r,helper:i,disabled:l=!1,isSubmitting:o,submitText:d="Save"}=e,c=o||l||!n&&void 0!==n;return(0,s.jsxs)("div",{className:["flex w-full items-center gap-2",i?"justify-between":"justify-end"].join(" "),"data-sentry-component":"FormActions","data-sentry-source-file":"FormActions.tsx",children:[i&&(0,s.jsx)("span",{className:"text-sm text-foreground-lighter",children:i}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(a.z,{disabled:c,type:"default",htmlType:"reset",onClick:()=>r(),"data-sentry-element":"Button","data-sentry-source-file":"FormActions.tsx",children:"Cancel"}),(0,s.jsx)(a.z,{form:t,type:"primary",htmlType:"submit",disabled:c,loading:o,"data-sentry-element":"Button","data-sentry-source-file":"FormActions.tsx",children:d})]})]})}},80865:function(e,t,n){n.d(t,{p:function(){return i}});var s=n(97458),a=n(39635),r=n(55771);let i=e=>{let{title:t,description:n,docsUrl:i,actions:l,className:o}=e;return(0,s.jsxs)("div",{className:(0,a.cn)("mb-6 flex items-center justify-between gap-x-4 ".concat(o)),"data-sentry-component":"FormHeader","data-sentry-source-file":"FormHeader.tsx",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("h3",{className:"text-foreground text-xl prose",children:t}),n&&(0,s.jsx)("div",{className:"prose text-sm max-w-full",children:n})]}),(0,s.jsxs)("div",{className:"flex items-center gap-x-2",children:[void 0!==i&&(0,s.jsx)(r.G,{href:i}),l]})]})}},42522:function(e,t,n){n.d(t,{DO:function(){return d},Tq:function(){return l},by:function(){return i},iL:function(){return o},m9:function(){return c}});var s=n(97458),a=n(52983),r=n(39635);let i=e=>{let{children:t,header:n,footer:a}=e;return(0,s.jsxs)(l,{"data-sentry-element":"FormPanelContainer","data-sentry-component":"FormPanel","data-sentry-source-file":"FormPanel.tsx",children:[n&&(0,s.jsx)(o,{children:n}),(0,s.jsx)(d,{className:"divide-y","data-sentry-element":"FormPanelContent","data-sentry-source-file":"FormPanel.tsx",children:t}),a&&(0,s.jsx)(c,{children:a})]})},l=(0,a.forwardRef)((e,t)=>{let{children:n,...a}=e;return(0,s.jsx)("div",{ref:t,...a,className:(0,r.cn)("bg-surface-100 border overflow-hidden rounded-md shadow",a.className),children:n})});l.displayName=l.displayName;let o=(0,a.forwardRef)((e,t)=>{let{children:n,...a}=e;return(0,s.jsx)("div",{ref:t,...a,className:(0,r.cn)("border-default border-b px-8 py-4",a.className),children:n})});o.displayName=o.displayName;let d=(0,a.forwardRef)((e,t)=>{let{children:n,...a}=e;return(0,s.jsx)("div",{ref:t,...a,className:(0,r.cn)("divide-border flex flex-col gap-0",a.className),children:n})});d.displayName=d.displayName;let c=(0,a.forwardRef)((e,t)=>{let{children:n,...a}=e;return(0,s.jsx)("div",{ref:t,...a,className:(0,r.cn)("border-t",a.className),children:n})});c.displayName=c.displayName},40626:function(e,t,n){n.d(t,{B4:function(){return o},S0:function(){return i},hj:function(){return r}});var s=n(97458),a=n(52983);let r=e=>{let{children:t,id:n,header:a,disabled:r,className:i}=e;return(0,s.jsxs)("div",{id:n,className:["grid grid-cols-12 gap-6 px-8 py-8","".concat(r?" opacity-30":" opacity-100"),"".concat(i)].join(" "),"data-sentry-component":"FormSection","data-sentry-source-file":"FormSection.tsx",children:[a,t]})},i=e=>{let{children:t,className:n="",description:a}=e;return void 0!==a?(0,s.jsxs)("div",{className:"flex flex-col space-y-2 col-span-12 lg:col-span-5 ".concat(n),children:[(0,s.jsx)("label",{className:"text-foreground text-sm",children:t}),a]}):(0,s.jsx)("label",{className:"text-foreground col-span-12 text-sm lg:col-span-5 ".concat(n),children:t})},l=()=>(0,s.jsxs)("div",{className:"flex w-full flex-col gap-2","data-sentry-component":"Shimmer","data-sentry-source-file":"FormSection.tsx",children:[(0,s.jsx)("div",{className:"shimmering-loader h-2 w-1/3 rounded"}),(0,s.jsx)("div",{className:"flex flex-col justify-between space-y-2",children:(0,s.jsx)("div",{className:"shimmering-loader h-[34px] w-2/3 rounded"})})]}),o=e=>{let{children:t,loading:n=!0,fullWidth:r,className:i}=e;return(0,s.jsx)("div",{className:"\n        relative col-span-12 flex flex-col gap-6 lg:col-span-7\n        ".concat(r&&"!col-span-12","\n        ").concat(i,"\n      "),"data-sentry-component":"FormSectionContent","data-sentry-source-file":"FormSection.tsx",children:n?a.Children.map(t,()=>(0,s.jsx)(l,{})):t})}},55060:function(e,t,n){n.d(t,{Z:function(){return o}});var s=n(97458),a=n(52983),r=n(99173),i=n(98160);function l(e,t){if(!t.error)return delete e[t.key],e;if(t)return{...e,[t.key]:t.error};throw Error()}function o(e){let{validate:t,...n}=e,[o,d]=(0,a.useReducer)(l,null),c=(0,r.TA)({validateOnBlur:!0,...n,validationSchema:n.validationSchema,initialValues:n.initialValues,onSubmit:n.onSubmit,validate:t||function(){return o}});return(0,s.jsx)("form",{id:n.id,name:n.name,onSubmit:c.handleSubmit,className:n.className,style:n.style,method:"POST","data-sentry-component":"Form","data-sentry-source-file":"Form.tsx",children:(0,s.jsx)(i.o,{values:c.values,errors:c.errors,formContextOnChange:c.handleChange,handleBlur:c.handleBlur,touched:c.touched,fieldLevelValidation:function(e,t){d({key:e,error:t})},"data-sentry-element":"FormContextProvider","data-sentry-source-file":"Form.tsx",children:n.children({errors:c.errors,touched:c.touched,isSubmitting:c.isSubmitting,isValidating:c.isValidating,submitCount:c.submitCount,initialValues:c.initialValues,values:c.values,handleReset:c.handleReset,resetForm:c.resetForm,setFieldValue:c.setFieldValue})})})}}}]);