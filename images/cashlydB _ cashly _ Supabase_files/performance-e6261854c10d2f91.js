!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="971bba62-3c91-4a71-92bc-009d25b5be7b",e._sentryDebugIdIdentifier="sentry-dbid-971bba62-3c91-4a71-92bc-009d25b5be7b")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2577],{30555:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/advisors/performance",function(){return n(20512)}])},20512:function(e,t,n){"use strict";n.r(t);var r=n(97458),s=n(52983),a=n(63413),l=n(7227),i=n(28649),d=n(825),c=n(74542),o=n(99286),f=n(73222),u=n(63225),b=n(80865),m=n(38224),y=n(92656),p=n(15845);let v=()=>{var e;let t=(0,y.Vm)(),{preset:n,id:u}=(0,a.UO)(),[v,g]=(0,s.useState)([{level:i.l.ERROR,filters:[]},{level:i.l.WARN,filters:[]},{level:i.l.INFO,filters:[]}]),[x,L]=(0,s.useState)(null!=n?n:i.l.ERROR),[_,h]=(0,s.useState)(null),{data:E,isLoading:j,isRefetching:w,refetch:R}=(0,m.U)({projectRef:null==t?void 0:t.ref}),N=[],O=(0,s.useMemo)(()=>[...null!=E?E:[],...N].filter(e=>e.categories.includes("PERFORMANCE")),[E]);(0,s.useEffect)(()=>{var e;u&&h(null!==(e=O.find(e=>e.cache_key===u))&&void 0!==e?e:null)},[u,O]);let P=(null===(e=v.find(e=>e.level===x))||void 0===e?void 0:e.filters)||[],T=O.filter(e=>e.level===x).filter(e=>P.length>0?P.includes(e.name):e),k=d.EV.filter(e=>O.some(t=>t.name===e.name&&t.level===x)).map(e=>({name:e.title,value:e.name}));return(0,r.jsxs)("div",{className:"h-full flex flex-col","data-sentry-component":"ProjectLints","data-sentry-source-file":"performance.tsx",children:[(0,r.jsx)(b.p,{className:"py-4 px-6 !mb-0",title:"Performance Advisor",docsUrl:"https://supabase.com/docs/guides/database/database-linter","data-sentry-element":"FormHeader","data-sentry-source-file":"performance.tsx"}),(0,r.jsx)(l.Z,{activeLints:O,isLoading:j,currentTab:x,setCurrentTab:L,setSelectedLint:h,"data-sentry-element":"LintPageTabs","data-sentry-source-file":"performance.tsx"}),(0,r.jsx)(o.Z,{filterOptions:k,activeLints:O,currentTab:x,filters:v,setFilters:g,"data-sentry-element":"LinterFilters","data-sentry-source-file":"performance.tsx"}),(0,r.jsx)(p.O,{loading:w,"data-sentry-element":"LoadingLine","data-sentry-source-file":"performance.tsx"}),(0,r.jsx)(c.Z,{filteredLints:T,currentTab:x,selectedLint:_,setSelectedLint:h,isLoading:j,"data-sentry-element":"LinterDataGrid","data-sentry-source-file":"performance.tsx"}),(0,r.jsx)(f.Z,{isLoading:j,isRefetching:w,refetch:R,"data-sentry-element":"LinterPageFooter","data-sentry-source-file":"performance.tsx"})]})};v.getLayout=e=>(0,r.jsx)(u.Z,{title:"Linter",children:e}),t.default=v}},function(e){e.O(0,[4176,588,5154,656,8703,698,8682,8375,4439,69,8790,659,5741,3439,5313,6437,8685,1859,7686,3182,1515,9386,6162,9774,2888,179],function(){return e(e.s=30555)}),_N_E=e.O()}]);