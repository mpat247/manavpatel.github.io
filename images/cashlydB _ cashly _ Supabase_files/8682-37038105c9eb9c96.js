!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="8edcbd8b-b4b4-40a9-8b2a-2014826d4994",e._sentryDebugIdIdentifier="sentry-dbid-8edcbd8b-b4b4-40a9-8b2a-2014826d4994")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8682,5855],{75855:function(e,t,n){n.r(t),n.d(t,{Headers:function(){return s},Request:function(){return o},Response:function(){return a},fetch:function(){return i}});var r=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw Error("unable to locate global object")}();let i=r.fetch;t.default=r.fetch.bind(r);let s=r.Headers,o=r.Request,a=r.Response},9703:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let i=r(n(75855)),s=r(n(19422));class o{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"==typeof fetch?this.fetch=i.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,n,r;let i=null,o=null,a=null,l=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){let t=await e.text();""===t||(o="text/csv"===this.headers.Accept?t:this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}let r=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),s=null===(n=e.headers.get("content-range"))||void 0===n?void 0:n.split("/");r&&s&&s.length>1&&(a=parseInt(s[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(o)&&(o.length>1?(i={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,a=null,l=406,c="Not Acceptable"):o=1===o.length?o[0]:null)}else{let t=await e.text();try{i=JSON.parse(t),Array.isArray(i)&&404===e.status&&(o=[],i=null,l=200,c="OK")}catch(n){404===e.status&&""===t?(l=204,c="No Content"):i={message:t}}if(i&&this.isMaybeSingle&&(null===(r=null==i?void 0:i.details)||void 0===r?void 0:r.includes("0 rows"))&&(i=null,l=200,c="OK"),i&&this.shouldThrowOnError)throw new s.default(i)}return{error:i,data:o,count:a,status:l,statusText:c}});return this.shouldThrowOnError||(n=n.catch(e=>{var t,n,r;return{error:{message:`${null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null==e?void 0:e.message}`,details:`${null!==(n=null==e?void 0:e.stack)&&void 0!==n?n:""}`,hint:"",code:`${null!==(r=null==e?void 0:e.code)&&void 0!==r?r:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}}t.default=o},24022:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let i=r(n(62643)),s=r(n(23271)),o=n(31361);class a{constructor(e,{headers:t={},schema:n,fetch:r}={}){this.url=e,this.headers=Object.assign(Object.assign({},o.DEFAULT_HEADERS),t),this.schemaName=n,this.fetch=r}from(e){let t=new URL(`${this.url}/${e}`);return new i.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new a(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:n=!1,get:r=!1,count:i}={}){let o,a;let l=new URL(`${this.url}/rpc/${e}`);n||r?(o=n?"HEAD":"GET",Object.entries(t).filter(([e,t])=>void 0!==t).map(([e,t])=>[e,Array.isArray(t)?`{${t.join(",")}}`:`${t}`]).forEach(([e,t])=>{l.searchParams.append(e,t)})):(o="POST",a=t);let c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new s.default({method:o,url:l,headers:c,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}}t.default=a},19422:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=n},23271:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let i=r(n(29993));class s extends i.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){let n=Array.from(new Set(t)).map(e=>"string"==typeof e&&RegExp("[,()]").test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let i="";"plain"===r?i="pl":"phrase"===r?i="ph":"websearch"===r&&(i="w");let s=void 0===n?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){let r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}}t.default=s},62643:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let i=r(n(23271));class s{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=t,this.schema=n,this.fetch=r}select(e,{head:t=!1,count:n}={}){let r=!1,s=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!r?"":('"'===e&&(r=!r),e)).join("");return this.url.searchParams.set("select",s),n&&(this.headers.Prefer=`count=${n}`),new i.default({method:t?"HEAD":"GET",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:n=!0}={}){let r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),n||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new i.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){let o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),s||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new i.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){let n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),this.headers.Prefer=n.join(","),new i.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){let t=[];return e&&t.push(`count=${e}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new i.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}t.default=s},29993:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let i=r(n(9703));class s extends i.default{select(e){let t=!1,n=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){let s=i?`${i}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${void 0===n?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){let r=void 0===n?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){let i=void 0===r?"offset":`${r}.offset`,s=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:s="text"}={}){var o;let a=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=null!==(o=this.headers.Accept)&&void 0!==o?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${l}"; options=${a};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}t.default=s},31361:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_HEADERS=void 0;let r=n(80937);t.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r.version}`}},15579:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;let i=r(n(24022));t.PostgrestClient=i.default;let s=r(n(62643));t.PostgrestQueryBuilder=s.default;let o=r(n(23271));t.PostgrestFilterBuilder=o.default;let a=r(n(29993));t.PostgrestTransformBuilder=a.default;let l=r(n(9703));t.PostgrestBuilder=l.default,t.default={PostgrestClient:i.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:l.default}},80937:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="0.0.0-automated"},68400:function(e,t,n){var r,i,s,o,a,l,c,h,u,d,f,p,m,v,g,y,b,w,_;n.d(t,{VH:function(){return B}});let E={"X-Client-Info":"realtime-js/2.10.2"};(f=r||(r={}))[f.connecting=0]="connecting",f[f.open=1]="open",f[f.closing=2]="closing",f[f.closed=3]="closed",(p=i||(i={})).closed="closed",p.errored="errored",p.joined="joined",p.joining="joining",p.leaving="leaving",(m=s||(s={})).close="phx_close",m.error="phx_error",m.join="phx_join",m.reply="phx_reply",m.leave="phx_leave",m.access_token="access_token",(o||(o={})).websocket="websocket",(v=a||(a={})).Connecting="connecting",v.Open="open",v.Closing="closing",v.Closed="closed";class C{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):"string"==typeof e?t(JSON.parse(e)):t({})}_binaryDecode(e){let t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){let r=t.getUint8(1),i=t.getUint8(2),s=this.HEADER_LENGTH+2,o=n.decode(e.slice(s,s+r));s+=r;let a=n.decode(e.slice(s,s+i));return s+=i,{ref:null,topic:o,event:a,payload:JSON.parse(n.decode(e.slice(s,e.byteLength)))}}}class P{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}(g=l||(l={})).abstime="abstime",g.bool="bool",g.date="date",g.daterange="daterange",g.float4="float4",g.float8="float8",g.int2="int2",g.int4="int4",g.int4range="int4range",g.int8="int8",g.int8range="int8range",g.json="json",g.jsonb="jsonb",g.money="money",g.numeric="numeric",g.oid="oid",g.reltime="reltime",g.text="text",g.time="time",g.timestamp="timestamp",g.timestamptz="timestamptz",g.timetz="timetz",g.tsrange="tsrange",g.tstzrange="tstzrange";let k=(e,t,n={})=>{var r;let i=null!==(r=n.skipTypes)&&void 0!==r?r:[];return Object.keys(t).reduce((n,r)=>(n[r]=S(r,e,t,i),n),{})},S=(e,t,n,r)=>{let i=t.find(t=>t.name===e),s=null==i?void 0:i.type,o=n[e];return s&&!r.includes(s)?j(s,o):T(o)},j=(e,t)=>{if("_"===e.charAt(0))return $(t,e.slice(1,e.length));switch(e){case l.bool:return O(t);case l.float4:case l.float8:case l.int2:case l.int4:case l.int8:case l.numeric:case l.oid:return x(t);case l.json:case l.jsonb:return R(t);case l.timestamp:return A(t);case l.abstime:case l.date:case l.daterange:case l.int4range:case l.int8range:case l.money:case l.reltime:case l.text:case l.time:case l.timestamptz:case l.timetz:case l.tsrange:case l.tstzrange:default:return T(t)}},T=e=>e,O=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},x=e=>{if("string"==typeof e){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},R=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(e){console.log(`JSON parse error: ${e}`)}return e},$=(e,t)=>{if("string"!=typeof e)return e;let n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;let i=e.slice(1,n);try{r=JSON.parse("["+i+"]")}catch(e){r=i?i.split(","):[]}return r.map(e=>j(t,e))}return e},A=e=>"string"==typeof e?e.replace(" ","T"):e,D=e=>{let t=e;return(t=(t=t.replace(/^ws/i,"http")).replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,"")).replace(/\/+$/,"")};class L{constructor(e,t,n={},r=1e4){this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}(y=c||(c={})).SYNC="sync",y.JOIN="join",y.LEAVE="leave";class M{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let n=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},e=>{let{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=M.syncState(this.state,e,t,n),this.pendingDiffs.forEach(e=>{this.state=M.syncDiff(this.state,e,t,n)}),this.pendingDiffs=[],r()}),this.channel._on(n.diff,{},e=>{let{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=M.syncDiff(this.state,e,t,n),r())}),this.onJoin((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,r){let i=this.cloneDeep(e),s=this.transformState(t),o={},a={};return this.map(i,(e,t)=>{s[e]||(a[e]=t)}),this.map(s,(e,t)=>{let n=i[e];if(n){let r=t.map(e=>e.presence_ref),i=n.map(e=>e.presence_ref),s=t.filter(e=>0>i.indexOf(e.presence_ref)),l=n.filter(e=>0>r.indexOf(e.presence_ref));s.length>0&&(o[e]=s),l.length>0&&(a[e]=l)}else o[e]=t}),this.syncDiff(i,{joins:o,leaves:a},n,r)}static syncDiff(e,t,n,r){let{joins:i,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(i,(t,r)=>{var i;let s=null!==(i=e[t])&&void 0!==i?i:[];if(e[t]=this.cloneDeep(r),s.length>0){let n=e[t].map(e=>e.presence_ref),r=s.filter(e=>0>n.indexOf(e.presence_ref));e[t].unshift(...r)}n(t,s,r)}),this.map(s,(t,n)=>{let i=e[t];if(!i)return;let s=n.map(e=>e.presence_ref);i=i.filter(e=>0>s.indexOf(e.presence_ref)),e[t]=i,r(t,i,n),0===i.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return Object.getOwnPropertyNames(e=this.cloneDeep(e)).reduce((t,n)=>{let r=e[n];return"metas"in r?t[n]=r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):t[n]=r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(b=h||(h={})).ALL="*",b.INSERT="INSERT",b.UPDATE="UPDATE",b.DELETE="DELETE",(w=u||(u={})).BROADCAST="broadcast",w.PRESENCE="presence",w.POSTGRES_CHANGES="postgres_changes",(_=d||(d={})).SUBSCRIBED="SUBSCRIBED",_.TIMED_OUT="TIMED_OUT",_.CLOSED="CLOSED",_.CHANNEL_ERROR="CHANNEL_ERROR";class I{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=i.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new L(this,s.join,this.params,this.timeout),this.rejoinTimer=new P(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=i.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=i.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=i.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=i.errored,this.rejoinTimer.scheduleTimeout())}),this._on(s.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new M(this),this.broadcastEndpointURL=D(this.socket.endPoint)+"/api/broadcast"}subscribe(e,t=this.timeout){var n,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:i,presence:s,private:o}}=this.params;this._onError(t=>e&&e("CHANNEL_ERROR",t)),this._onClose(()=>e&&e("CLOSED"));let a={},l={broadcast:i,presence:s,postgres_changes:null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map(e=>e.filter))&&void 0!==r?r:[],private:o};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:l},a)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:t})=>{var n;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),void 0===t){e&&e("SUBSCRIBED");return}{let r=this.bindings.postgres_changes,i=null!==(n=null==r?void 0:r.length)&&void 0!==n?n:0,s=[];for(let n=0;n<i;n++){let i=r[n],{filter:{event:o,schema:a,table:l,filter:c}}=i,h=t&&t[n];if(h&&h.event===o&&h.schema===a&&h.table===l&&h.filter===c)s.push(Object.assign(Object.assign({},i),{id:h.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=s,e&&e("SUBSCRIBED");return}}).receive("error",t=>{e&&e("CHANNEL_ERROR",Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e,t={}){var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(n=>{var r,i,s;let o=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(s=null===(i=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===i?void 0:i.broadcast)||void 0===s?void 0:s.ack)||n("ok"),o.receive("ok",()=>n("ok")),o.receive("error",()=>n("error")),o.receive("timeout",()=>n("timed out"))});{let{event:i,payload:s}=e,o={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s}]})};try{let e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await (null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(e){if("AbortError"===e.name)return"timed out";return"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=i.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(s.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{let r=new L(this,s.leave,{},e);r.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}async _fetchWithTimeout(e,t,n){let r=new AbortController,i=setTimeout(()=>r.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(i),s}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new L(this,e,t,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,i;let o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:h}=s;if(n&&[a,l,c,h].indexOf(o)>=0&&n!==this._joinRef())return;let u=this._onMessage(o,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,n,r;return(null===(t=e.filter)||void 0===t?void 0:t.event)==="*"||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===o}).map(e=>e.callback(u,n)):null===(i=this.bindings[o])||void 0===i||i.filter(e=>{var n,r,i,s,a,l;if(!["broadcast","presence","postgres_changes"].includes(o))return e.type.toLocaleLowerCase()===o;if("id"in e){let s=e.id,o=null===(n=e.filter)||void 0===n?void 0:n.event;return s&&(null===(r=t.ids)||void 0===r?void 0:r.includes(s))&&("*"===o||(null==o?void 0:o.toLocaleLowerCase())===(null===(i=t.data)||void 0===i?void 0:i.type.toLocaleLowerCase()))}{let n=null===(a=null===(s=null==e?void 0:e.filter)||void 0===s?void 0:s.event)||void 0===a?void 0:a.toLocaleLowerCase();return"*"===n||n===(null===(l=null==t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}).map(e=>{if("object"==typeof u&&"ids"in u){let e=u.data,{schema:t,table:n,commit_timestamp:r,type:i,errors:s}=e;u=Object.assign(Object.assign({},{schema:t,table:n,commit_timestamp:r,eventType:i,new:{},old:{},errors:s}),this._getPayloadRecords(e))}e.callback(u,n)})}_isClosed(){return this.state===i.closed}_isJoined(){return this.state===i.joined}_isJoining(){return this.state===i.joining}_isLeaving(){return this.state===i.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){let r=e.toLocaleLowerCase(),i={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,t){let n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&I.isEqual(e.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(s.close,{},e)}_onError(e){this._on(s.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=i.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let t={new:{},old:{}};return("INSERT"===e.type||"UPDATE"===e.type)&&(t.new=k(e.columns,e.record)),("UPDATE"===e.type||"DELETE"===e.type)&&(t.old=k(e.columns,e.old_record)),t}}let N=()=>{},U="undefined"!=typeof WebSocket;class B{constructor(e,t){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=E,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=N,this.conn=null,this.sendBuffer=[],this.serializer=new C,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=e=>{let t;return e?t=e:"undefined"==typeof fetch?t=(...e)=>Promise.resolve().then(n.bind(n,75855)).then(({default:t})=>t(...e)):t=fetch,(...e)=>t(...e)},this.endPoint=`${e}/${o.websocket}`,this.httpEndpoint=D(e),(null==t?void 0:t.transport)?this.transport=t.transport:this.transport=null,(null==t?void 0:t.params)&&(this.params=t.params),(null==t?void 0:t.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),(null==t?void 0:t.timeout)&&(this.timeout=t.timeout),(null==t?void 0:t.logger)&&(this.logger=t.logger),(null==t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);let i=null===(r=null==t?void 0:t.params)||void 0===r?void 0:r.apikey;i&&(this.accessToken=i,this.apiKey=i),this.reconnectAfterMs=(null==t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null==t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null==t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new P(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(null==t?void 0:t.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(U){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new H(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),n.e(2581).then(n.t.bind(n,82581,23)).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!=t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){let t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){let e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case r.connecting:return a.Connecting;case r.open:return a.Open;case r.closing:return a.Closing;default:return a.Closed}}isConnected(){return this.connectionState()===a.Open}channel(e,t={config:{}}){let n=new I(`realtime:${e}`,t,this);return this.channels.push(n),n}push(e){let{topic:t,event:n,payload:r,ref:i}=e,s=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push",`${t} ${n} (${i})`,r),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(e){this.accessToken=e,this.channels.forEach(t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(s.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}_onConnMessage(e){this.decode(e.data,e=>{let{topic:t,event:n,payload:r,ref:i}=e;(i&&i===this.pendingHeartbeatRef||n===(null==r?void 0:r.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${r.status||""} ${t} ${n} ${i&&"("+i+")"||""}`,r),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,r,i)),this.stateChangeCallbacks.message.forEach(t=>t(e))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(s.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;let n=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return`${e}${n}${r}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class H{constructor(e,t,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=r.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}},54731:function(e,t,n){n.d(t,{eI:function(){return X}});let r=e=>{let t;return e?t=e:"undefined"==typeof fetch?t=(...e)=>Promise.resolve().then(n.bind(n,75855)).then(({default:t})=>t(...e)):t=fetch,(...e)=>t(...e)};class i extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class s extends i{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class o extends i{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class a extends i{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}(p=m||(m={})).Any="any",p.ApNortheast1="ap-northeast-1",p.ApNortheast2="ap-northeast-2",p.ApSouth1="ap-south-1",p.ApSoutheast1="ap-southeast-1",p.ApSoutheast2="ap-southeast-2",p.CaCentral1="ca-central-1",p.EuCentral1="eu-central-1",p.EuWest1="eu-west-1",p.EuWest2="eu-west-2",p.EuWest3="eu-west-3",p.SaEast1="sa-east-1",p.UsEast1="us-east-1",p.UsWest1="us-west-1",p.UsWest2="us-west-2";class l{constructor(e,{headers:t={},customFetch:n,region:i=m.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=r(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n,r,i,l,c;return r=this,i=void 0,l=void 0,c=function*(){try{let r;let{headers:i,method:l,body:c}=t,h={},{region:u}=t;u||(u=this.region),u&&"any"!==u&&(h["x-region"]=u),c&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&("undefined"!=typeof Blob&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",r=c):"string"==typeof c?(h["Content-Type"]="text/plain",r=c):"undefined"!=typeof FormData&&c instanceof FormData?r=c:(h["Content-Type"]="application/json",r=JSON.stringify(c)));let d=yield this.fetch(`${this.url}/${e}`,{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),i),body:r}).catch(e=>{throw new s(e)}),f=d.headers.get("x-relay-error");if(f&&"true"===f)throw new o(d);if(!d.ok)throw new a(d);let p=(null!==(n=d.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return{data:"application/json"===p?yield d.json():"application/octet-stream"===p?yield d.blob():"text/event-stream"===p?d:"multipart/form-data"===p?yield d.formData():yield d.text(),error:null}}catch(e){return{data:null,error:e}}},new(l||(l=Promise))(function(e,t){function n(e){try{o(c.next(e))}catch(e){t(e)}}function s(e){try{o(c.throw(e))}catch(e){t(e)}}function o(t){var r;t.done?e(t.value):((r=t.value)instanceof l?r:new l(function(e){e(r)})).then(n,s)}o((c=c.apply(r,i||[])).next())})}}let{PostgrestClient:c,PostgrestQueryBuilder:h,PostgrestFilterBuilder:u,PostgrestTransformBuilder:d,PostgrestBuilder:f}=n(15579);var p,m,v=n(68400);class g extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function y(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class b extends g{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class w extends g{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}let _=e=>{let t;return e?t=e:"undefined"==typeof fetch?t=(...e)=>Promise.resolve().then(n.bind(n,75855)).then(({default:t})=>t(...e)):t=fetch,(...e)=>t(...e)},E=()=>{var e,t,r,i;return e=void 0,t=void 0,r=void 0,i=function*(){return"undefined"==typeof Response?(yield Promise.resolve().then(n.bind(n,75855))).Response:Response},new(r||(r=Promise))(function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((i=i.apply(e,t||[])).next())})};var C=function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,a)}l((r=r.apply(e,t||[])).next())})};let P=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),k=(e,t)=>C(void 0,void 0,void 0,function*(){e instanceof(yield E())?e.json().then(n=>{t(new b(P(n),e.status||500))}).catch(e=>{t(new w(P(e),e))}):t(new w(P(e),e))}),S=(e,t,n,r)=>{let i={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};function j(e,t,n,r,i,s){return C(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,S(t,r,i,s)).then(e=>{if(!e.ok)throw e;return(null==r?void 0:r.noResolveJson)?e:e.json()}).then(e=>o(e)).catch(e=>k(e,a))})})}function T(e,t,n,r){return C(this,void 0,void 0,function*(){return j(e,"GET",t,n,r)})}function O(e,t,n,r,i){return C(this,void 0,void 0,function*(){return j(e,"POST",t,r,i,n)})}function x(e,t,n,r,i){return C(this,void 0,void 0,function*(){return j(e,"DELETE",t,r,i,n)})}var R=function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,a)}l((r=r.apply(e,t||[])).next())})};let $={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},A={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class D{constructor(e,t={},n,r){this.url=e,this.headers=t,this.bucketId=n,this.fetch=_(r)}uploadOrUpdate(e,t,n,r){return R(this,void 0,void 0,function*(){try{let i;let s=Object.assign(Object.assign({},A),r),o=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(s.upsert)});"undefined"!=typeof Blob&&n instanceof Blob?((i=new FormData).append("cacheControl",s.cacheControl),i.append("",n)):"undefined"!=typeof FormData&&n instanceof FormData?(i=n).append("cacheControl",s.cacheControl):(i=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType);let a=this._removeEmptyFolders(t),l=this._getFinalPath(a),c=yield this.fetch(`${this.url}/object/${l}`,Object.assign({method:e,body:i,headers:o},(null==s?void 0:s.duplex)?{duplex:s.duplex}:{})),h=yield c.json();if(c.ok)return{data:{path:a,id:h.Id,fullPath:h.Key},error:null};return{data:null,error:h}}catch(e){if(y(e))return{data:null,error:e};throw e}})}upload(e,t,n){return R(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,r){return R(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(e),s=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",t);try{let e;let t=Object.assign({upsert:A.upsert},r),s=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!=typeof Blob&&n instanceof Blob?((e=new FormData).append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!=typeof FormData&&n instanceof FormData?(e=n).append("cacheControl",t.cacheControl):(e=n,s["cache-control"]=`max-age=${t.cacheControl}`,s["content-type"]=t.contentType);let a=yield this.fetch(o.toString(),{method:"PUT",body:e,headers:s}),l=yield a.json();if(a.ok)return{data:{path:i,fullPath:l.Key},error:null};return{data:null,error:l}}catch(e){if(y(e))return{data:null,error:e};throw e}})}createSignedUploadUrl(e,t){return R(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),r=Object.assign({},this.headers);(null==t?void 0:t.upsert)&&(r["x-upsert"]="true");let i=yield O(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),s=new URL(this.url+i.url),o=s.searchParams.get("token");if(!o)throw new g("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:o},error:null}}catch(e){if(y(e))return{data:null,error:e};throw e}})}update(e,t,n){return R(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return R(this,void 0,void 0,function*(){try{return{data:yield O(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(e){if(y(e))return{data:null,error:e};throw e}})}copy(e,t,n){return R(this,void 0,void 0,function*(){try{return{data:{path:(yield O(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(e){if(y(e))return{data:null,error:e};throw e}})}createSignedUrl(e,t,n){return R(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=yield O(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},(null==n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers}),s=(null==n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return{data:i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},error:null}}catch(e){if(y(e))return{data:null,error:e};throw e}})}createSignedUrls(e,t,n){return R(this,void 0,void 0,function*(){try{let r=yield O(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=(null==n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return{data:r.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${i}`):null})),error:null}}catch(e){if(y(e))return{data:null,error:e};throw e}})}download(e,t){return R(this,void 0,void 0,function*(){let n=void 0!==(null==t?void 0:t.transform),r=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),i=r?`?${r}`:"";try{let t=this._getFinalPath(e),r=yield T(this.fetch,`${this.url}/${n?"render/image/authenticated":"object"}/${t}${i}`,{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(e){if(y(e))return{data:null,error:e};throw e}})}getPublicUrl(e,t){let n=this._getFinalPath(e),r=[],i=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==i&&r.push(i);let s=void 0!==(null==t?void 0:t.transform),o=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==o&&r.push(o);let a=r.join("&");return""!==a&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${s?"render/image":"object"}/public/${n}${a}`)}}}remove(e){return R(this,void 0,void 0,function*(){try{return{data:yield x(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(e){if(y(e))return{data:null,error:e};throw e}})}list(e,t,n){return R(this,void 0,void 0,function*(){try{let r=Object.assign(Object.assign(Object.assign({},$),t),{prefix:e||""});return{data:yield O(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(e){if(y(e))return{data:null,error:e};throw e}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}let L={"X-Client-Info":"storage-js/2.6.0"};var M=function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,a)}l((r=r.apply(e,t||[])).next())})};class I{constructor(e,t={},n){this.url=e,this.headers=Object.assign(Object.assign({},L),t),this.fetch=_(n)}listBuckets(){return M(this,void 0,void 0,function*(){try{return{data:yield T(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(y(e))return{data:null,error:e};throw e}})}getBucket(e){return M(this,void 0,void 0,function*(){try{return{data:yield T(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(e){if(y(e))return{data:null,error:e};throw e}})}createBucket(e,t={public:!1}){return M(this,void 0,void 0,function*(){try{return{data:yield O(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(e){if(y(e))return{data:null,error:e};throw e}})}updateBucket(e,t){return M(this,void 0,void 0,function*(){try{return{data:yield function(e,t,n,r,i){return C(this,void 0,void 0,function*(){return j(e,"PUT",t,r,void 0,n)})}(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(e){if(y(e))return{data:null,error:e};throw e}})}emptyBucket(e){return M(this,void 0,void 0,function*(){try{return{data:yield O(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(y(e))return{data:null,error:e};throw e}})}deleteBucket(e){return M(this,void 0,void 0,function*(){try{return{data:yield x(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(e){if(y(e))return{data:null,error:e};throw e}})}}class N extends I{constructor(e,t={},n){super(e,t,n)}from(e){return new D(this.url,this.headers,e,this.fetch)}}let U="";"undefined"!=typeof Deno?U="deno":"undefined"!=typeof document?U="web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?U="react-native":U="node";let B={headers:{"X-Client-Info":`supabase-js-${U}/2.44.3`}},H={schema:"public"},F={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},V={};var W=n(75855);let z=e=>{let t;return e?t=e:"undefined"==typeof fetch?t=W.default:t=fetch,(...e)=>t(...e)},K=()=>"undefined"==typeof Headers?W.Headers:Headers,Z=(e,t,n)=>{let r=z(n),i=K();return(n,s)=>{var o,a,l,c;return o=void 0,a=void 0,l=void 0,c=function*(){var o;let a=null!==(o=yield t())&&void 0!==o?o:e,l=new i(null==s?void 0:s.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${a}`),r(n,Object.assign(Object.assign({},s),{headers:l}))},new(l||(l=Promise))(function(e,t){function n(e){try{i(c.next(e))}catch(e){t(e)}}function r(e){try{i(c.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):((i=t.value)instanceof l?i:new l(function(e){e(i)})).then(n,r)}i((c=c.apply(o,a||[])).next())})}};var J=n(39830);class q extends J.LY{constructor(e){super(e)}}class G{constructor(e,t,n){var r,i,s;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw Error("supabaseUrl is required.");if(!t)throw Error("supabaseKey is required.");let o=e.replace(/\/$/,"");this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;let a=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,l=function(e,t){let{db:n,auth:r,realtime:i,global:s}=e,{db:o,auth:a,realtime:l,global:c}=t;return{db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),s)}}(null!=n?n:{},{db:H,realtime:V,auth:Object.assign(Object.assign({},F),{storageKey:a}),global:B});this.storageKey=null!==(r=l.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(i=l.global.headers)&&void 0!==i?i:{},this.auth=this._initSupabaseAuthClient(null!==(s=l.auth)&&void 0!==s?s:{},this.headers,l.global.fetch),this.fetch=Z(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},l.realtime)),this.rest=new c(`${o}/rest/v1`,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new l(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new N(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t,n,r,i,s;return n=this,r=void 0,i=void 0,s=function*(){let{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null},new(i||(i=Promise))(function(e,t){function o(e){try{l(s.next(e))}catch(e){t(e)}}function a(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):((n=t.value)instanceof i?n:new i(function(e){e(n)})).then(o,a)}l((s=s.apply(n,r||[])).next())})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,storageKey:i,flowType:s,debug:o},a,l){var c;let h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new q({url:this.authUrl,headers:Object.assign(Object.assign({},h),a),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,flowType:s,debug:o,fetch:l,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new v.VH(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)})}_handleTokenChanged(e,t,n){("TOKEN_REFRESHED"===e||"SIGNED_IN"===e)&&this.changedAccessToken!==n?(this.realtime.setAuth(null!=n?n:null),this.changedAccessToken=n):"SIGNED_OUT"===e&&(this.realtime.setAuth(this.supabaseKey),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0)}}let X=(e,t,n)=>new G(e,t,n)},2526:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(96725).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},91948:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(96725).Z)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},64269:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(96725).Z)("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},54537:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(96725).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},19718:function(e,t,n){n.d(t,{Z:function(){return r}});let r=(0,n(96725).Z)("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]])},99517:function(e,t,n){n.d(t,{Fw:function(){return _},VY:function(){return S},fC:function(){return P},p_:function(){return m},wy:function(){return b},xz:function(){return k}});var r=n(83573),i=n(52983),s=n(12527),o=n(95831),a=n(29650),l=n(247),c=n(61031),h=n(85418),u=n(96501),d=n(29028);let f="Collapsible",[p,m]=(0,o.b)(f),[v,g]=p(f),y=(0,i.forwardRef)((e,t)=>{let{__scopeCollapsible:n,open:s,defaultOpen:o,disabled:l,onOpenChange:c,...u}=e,[f=!1,p]=(0,a.T)({prop:s,defaultProp:o,onChange:c});return(0,i.createElement)(v,{scope:n,disabled:l,contentId:(0,d.M)(),open:f,onOpenToggle:(0,i.useCallback)(()=>p(e=>!e),[p])},(0,i.createElement)(h.WV.div,(0,r.Z)({"data-state":C(f),"data-disabled":l?"":void 0},u,{ref:t})))}),b=(0,i.forwardRef)((e,t)=>{let{__scopeCollapsible:n,...o}=e,a=g("CollapsibleTrigger",n);return(0,i.createElement)(h.WV.button,(0,r.Z)({type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":C(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled},o,{ref:t,onClick:(0,s.M)(e.onClick,a.onOpenToggle)}))}),w="CollapsibleContent",_=(0,i.forwardRef)((e,t)=>{let{forceMount:n,...s}=e,o=g(w,e.__scopeCollapsible);return(0,i.createElement)(u.z,{present:n||o.open},({present:e})=>(0,i.createElement)(E,(0,r.Z)({},s,{ref:t,present:e})))}),E=(0,i.forwardRef)((e,t)=>{let{__scopeCollapsible:n,present:s,children:o,...a}=e,u=g(w,n),[d,f]=(0,i.useState)(s),p=(0,i.useRef)(null),m=(0,c.e)(t,p),v=(0,i.useRef)(0),y=v.current,b=(0,i.useRef)(0),_=b.current,E=u.open||d,P=(0,i.useRef)(E),k=(0,i.useRef)();return(0,i.useEffect)(()=>{let e=requestAnimationFrame(()=>P.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,l.b)(()=>{let e=p.current;if(e){k.current=k.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";let t=e.getBoundingClientRect();v.current=t.height,b.current=t.width,P.current||(e.style.transitionDuration=k.current.transitionDuration,e.style.animationName=k.current.animationName),f(s)}},[u.open,s]),(0,i.createElement)(h.WV.div,(0,r.Z)({"data-state":C(u.open),"data-disabled":u.disabled?"":void 0,id:u.contentId,hidden:!E},a,{ref:m,style:{"--radix-collapsible-content-height":y?`${y}px`:void 0,"--radix-collapsible-content-width":_?`${_}px`:void 0,...e.style}}),E&&o)});function C(e){return e?"open":"closed"}let P=y,k=b,S=_},7538:function(e,t,n){n.d(t,{f:function(){return o}});var r=n(83573),i=n(52983),s=n(85418);let o=(0,i.forwardRef)((e,t)=>(0,i.createElement)(s.WV.label,(0,r.Z)({},e,{ref:t,onMouseDown:t=>{var n;null===(n=e.onMouseDown)||void 0===n||n.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault()}})))},21117:function(e,t,n){n.d(t,{$G:function(){return eD},B4:function(){return eC},JO:function(){return eP},VY:function(){return eS},Z0:function(){return eL},ZA:function(){return eT},__:function(){return eO},ck:function(){return ex},eT:function(){return eR},fC:function(){return e_},h_:function(){return ek},l_:function(){return ej},u_:function(){return eA},wU:function(){return e$},xz:function(){return eE}});var r=n(83573),i=n(52983),s=n(63730),o=n(86352),a=n(12527),l=n(34981),c=n(61031),h=n(95831),u=n(72929),d=n(94259),f=n(48611),p=n(60648),m=n(29028),v=n(40292),g=n(45409),y=n(85418),b=n(83457),w=n(66727),_=n(29650),E=n(247),C=n(87178),P=n(23128),k=n(40627),S=n(57405);let j=[" ","Enter","ArrowUp","ArrowDown"],T=[" ","Enter"],O="Select",[x,R,$]=(0,l.B)(O),[A,D]=(0,h.b)(O,[$,v.D7]),L=(0,v.D7)(),[M,I]=A(O),[N,U]=A(O),B=(0,i.forwardRef)((e,t)=>{let{__scopeSelect:n,disabled:s=!1,...o}=e,l=L(n),h=I("SelectTrigger",n),u=h.disabled||s,d=(0,c.e)(t,h.onTriggerChange),f=R(n),[p,m,g]=eb(e=>{let t=f().filter(e=>!e.disabled),n=t.find(e=>e.value===h.value),r=ew(t,e,n);void 0!==r&&h.onValueChange(r.value)}),b=()=>{u||(h.onOpenChange(!0),g())};return(0,i.createElement)(v.ee,(0,r.Z)({asChild:!0},l),(0,i.createElement)(y.WV.button,(0,r.Z)({type:"button",role:"combobox","aria-controls":h.contentId,"aria-expanded":h.open,"aria-required":h.required,"aria-autocomplete":"none",dir:h.dir,"data-state":h.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":eg(h.value)?"":void 0},o,{ref:d,onClick:(0,a.M)(o.onClick,e=>{e.currentTarget.focus()}),onPointerDown:(0,a.M)(o.onPointerDown,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&(b(),h.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)},e.preventDefault())}),onKeyDown:(0,a.M)(o.onKeyDown,e=>{let t=""!==p.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||m(e.key),(!t||" "!==e.key)&&j.includes(e.key)&&(b(),e.preventDefault())})})))}),H=(0,i.forwardRef)((e,t)=>{let{__scopeSelect:n,className:s,style:o,children:a,placeholder:l="",...h}=e,u=I("SelectValue",n),{onValueNodeHasChildrenChange:d}=u,f=void 0!==a,p=(0,c.e)(t,u.onValueNodeChange);return(0,E.b)(()=>{d(f)},[d,f]),(0,i.createElement)(y.WV.span,(0,r.Z)({},h,{ref:p,style:{pointerEvents:"none"}}),eg(u.value)?(0,i.createElement)(i.Fragment,null,l):a)}),F=(0,i.forwardRef)((e,t)=>{let{__scopeSelect:n,children:s,...o}=e;return(0,i.createElement)(y.WV.span,(0,r.Z)({"aria-hidden":!0},o,{ref:t}),s||"")}),V="SelectContent",W=(0,i.forwardRef)((e,t)=>{let n=I(V,e.__scopeSelect),[o,a]=(0,i.useState)();return((0,E.b)(()=>{a(new DocumentFragment)},[]),n.open)?(0,i.createElement)(Z,(0,r.Z)({},e,{ref:t})):o?(0,s.createPortal)((0,i.createElement)(z,{scope:e.__scopeSelect},(0,i.createElement)(x.Slot,{scope:e.__scopeSelect},(0,i.createElement)("div",null,e.children))),o):null}),[z,K]=A(V),Z=(0,i.forwardRef)((e,t)=>{let{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:l,onPointerDownOutside:h,side:u,sideOffset:m,align:v,alignOffset:g,arrowPadding:y,collisionBoundary:w,collisionPadding:_,sticky:E,hideWhenDetached:C,avoidCollisions:P,...j}=e,T=I(V,n),[O,x]=(0,i.useState)(null),[$,A]=(0,i.useState)(null),D=(0,c.e)(t,e=>x(e)),[L,M]=(0,i.useState)(null),[N,U]=(0,i.useState)(null),B=R(n),[H,F]=(0,i.useState)(!1),W=(0,i.useRef)(!1);(0,i.useEffect)(()=>{if(O)return(0,k.Ry)(O)},[O]),(0,f.EW)();let K=(0,i.useCallback)(e=>{let[t,...n]=B().map(e=>e.ref.current),[r]=n.slice(-1),i=document.activeElement;for(let n of e)if(n===i||(null==n||n.scrollIntoView({block:"nearest"}),n===t&&$&&($.scrollTop=0),n===r&&$&&($.scrollTop=$.scrollHeight),null==n||n.focus(),document.activeElement!==i))return},[B,$]),Z=(0,i.useCallback)(()=>K([L,O]),[K,L,O]);(0,i.useEffect)(()=>{H&&Z()},[H,Z]);let{onOpenChange:G,triggerPointerDownPosRef:X}=T;(0,i.useEffect)(()=>{if(O){let e={x:0,y:0},t=t=>{var n,r,i,s;e={x:Math.abs(Math.round(t.pageX)-(null!==(n=null===(r=X.current)||void 0===r?void 0:r.x)&&void 0!==n?n:0)),y:Math.abs(Math.round(t.pageY)-(null!==(i=null===(s=X.current)||void 0===s?void 0:s.y)&&void 0!==i?i:0))}},n=n=>{e.x<=10&&e.y<=10?n.preventDefault():O.contains(n.target)||G(!1),document.removeEventListener("pointermove",t),X.current=null};return null!==X.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",n,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",n,{capture:!0})}}},[O,G,X]),(0,i.useEffect)(()=>{let e=()=>G(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[G]);let[Y,Q]=eb(e=>{let t=B().filter(e=>!e.disabled),n=t.find(e=>e.ref.current===document.activeElement),r=ew(t,e,n);r&&setTimeout(()=>r.ref.current.focus())}),ee=(0,i.useCallback)((e,t,n)=>{let r=!W.current&&!n;(void 0!==T.value&&T.value===t||r)&&(M(e),r&&(W.current=!0))},[T.value]),et=(0,i.useCallback)(()=>null==O?void 0:O.focus(),[O]),en=(0,i.useCallback)((e,t,n)=>{let r=!W.current&&!n;(void 0!==T.value&&T.value===t||r)&&U(e)},[T.value]),er="popper"===s?q:J;return(0,i.createElement)(z,{scope:n,content:O,viewport:$,onViewportChange:A,itemRefCallback:ee,selectedItem:L,onItemLeave:et,itemTextRefCallback:en,focusSelectedItem:Z,selectedItemText:N,position:s,isPositioned:H,searchRef:Y},(0,i.createElement)(S.Z,{as:b.g7,allowPinchZoom:!0},(0,i.createElement)(p.M,{asChild:!0,trapped:T.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:(0,a.M)(o,e=>{var t;null===(t=T.trigger)||void 0===t||t.focus({preventScroll:!0}),e.preventDefault()})},(0,i.createElement)(d.XB,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:h,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>T.onOpenChange(!1)},(0,i.createElement)(er,(0,r.Z)({role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:e=>e.preventDefault()},j,er===q?{side:u,sideOffset:m,align:v,alignOffset:g,arrowPadding:y,collisionBoundary:w,collisionPadding:_,sticky:E,hideWhenDetached:C,avoidCollisions:P}:{},{onPlaced:()=>F(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:(0,a.M)(j.onKeyDown,e=>{let t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||Q(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=B().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){let n=e.target,r=t.indexOf(n);t=t.slice(r+1)}setTimeout(()=>K(t)),e.preventDefault()}})}))))))}),J=(0,i.forwardRef)((e,t)=>{let{__scopeSelect:n,onPlaced:s,...a}=e,l=I(V,n),h=K(V,n),[u,d]=(0,i.useState)(null),[f,p]=(0,i.useState)(null),m=(0,c.e)(t,e=>p(e)),v=R(n),g=(0,i.useRef)(!1),b=(0,i.useRef)(!0),{viewport:w,selectedItem:_,selectedItemText:C,focusSelectedItem:P}=h,k=(0,i.useCallback)(()=>{if(l.trigger&&l.valueNode&&u&&f&&w&&_&&C){let e=l.trigger.getBoundingClientRect(),t=f.getBoundingClientRect(),n=l.valueNode.getBoundingClientRect(),r=C.getBoundingClientRect();if("rtl"!==l.dir){let i=r.left-t.left,s=n.left-i,a=e.left-s,l=e.width+a,c=Math.max(l,t.width),h=window.innerWidth-10,d=(0,o.u)(s,[10,h-c]);u.style.minWidth=l+"px",u.style.left=d+"px"}else{let i=t.right-r.right,s=window.innerWidth-n.right-i,a=window.innerWidth-e.right-s,l=e.width+a,c=Math.max(l,t.width),h=window.innerWidth-10,d=(0,o.u)(s,[10,h-c]);u.style.minWidth=l+"px",u.style.right=d+"px"}let i=v(),a=window.innerHeight-20,c=w.scrollHeight,h=window.getComputedStyle(f),d=parseInt(h.borderTopWidth,10),p=parseInt(h.paddingTop,10),m=parseInt(h.borderBottomWidth,10),y=d+p+c+parseInt(h.paddingBottom,10)+m,b=Math.min(5*_.offsetHeight,y),E=window.getComputedStyle(w),P=parseInt(E.paddingTop,10),k=parseInt(E.paddingBottom,10),S=e.top+e.height/2-10,j=_.offsetHeight/2,T=d+p+(_.offsetTop+j);if(T<=S){let e=_===i[i.length-1].ref.current;u.style.bottom="0px";let t=f.clientHeight-w.offsetTop-w.offsetHeight;u.style.height=T+Math.max(a-S,j+(e?k:0)+t+m)+"px"}else{let e=_===i[0].ref.current;u.style.top="0px";let t=Math.max(S,d+w.offsetTop+(e?P:0)+j);u.style.height=t+(y-T)+"px",w.scrollTop=T-S+w.offsetTop}u.style.margin="10px 0",u.style.minHeight=b+"px",u.style.maxHeight=a+"px",null==s||s(),requestAnimationFrame(()=>g.current=!0)}},[v,l.trigger,l.valueNode,u,f,w,_,C,l.dir,s]);(0,E.b)(()=>k(),[k]);let[S,j]=(0,i.useState)();(0,E.b)(()=>{f&&j(window.getComputedStyle(f).zIndex)},[f]);let T=(0,i.useCallback)(e=>{e&&!0===b.current&&(k(),null==P||P(),b.current=!1)},[k,P]);return(0,i.createElement)(G,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:g,onScrollButtonChange:T},(0,i.createElement)("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S}},(0,i.createElement)(y.WV.div,(0,r.Z)({},a,{ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}}))))}),q=(0,i.forwardRef)((e,t)=>{let{__scopeSelect:n,align:s="start",collisionPadding:o=10,...a}=e,l=L(n);return(0,i.createElement)(v.VY,(0,r.Z)({},l,a,{ref:t,align:s,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[G,X]=A(V,{}),Y="SelectViewport",Q=(0,i.forwardRef)((e,t)=>{let{__scopeSelect:n,...s}=e,o=K(Y,n),l=X(Y,n),h=(0,c.e)(t,o.onViewportChange),u=(0,i.useRef)(0);return(0,i.createElement)(i.Fragment,null,(0,i.createElement)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),(0,i.createElement)(x.Slot,{scope:n},(0,i.createElement)(y.WV.div,(0,r.Z)({"data-radix-select-viewport":"",role:"presentation"},s,{ref:h,style:{position:"relative",flex:1,overflow:"auto",...s.style},onScroll:(0,a.M)(s.onScroll,e=>{let t=e.currentTarget,{contentWrapper:n,shouldExpandOnScrollRef:r}=l;if(null!=r&&r.current&&n){let e=Math.abs(u.current-t.scrollTop);if(e>0){let r=window.innerHeight-20,i=Math.max(parseFloat(n.style.minHeight),parseFloat(n.style.height));if(i<r){let s=i+e,o=Math.min(r,s),a=s-o;n.style.height=o+"px","0px"===n.style.bottom&&(t.scrollTop=a>0?a:0,n.style.justifyContent="flex-end")}}}u.current=t.scrollTop})}))))}),[ee,et]=A("SelectGroup"),en=(0,i.forwardRef)((e,t)=>{let{__scopeSelect:n,...s}=e,o=(0,m.M)();return(0,i.createElement)(ee,{scope:n,id:o},(0,i.createElement)(y.WV.div,(0,r.Z)({role:"group","aria-labelledby":o},s,{ref:t})))}),er=(0,i.forwardRef)((e,t)=>{let{__scopeSelect:n,...s}=e,o=et("SelectLabel",n);return(0,i.createElement)(y.WV.div,(0,r.Z)({id:o.id},s,{ref:t}))}),ei="SelectItem",[es,eo]=A(ei),ea=(0,i.forwardRef)((e,t)=>{let{__scopeSelect:n,value:s,disabled:o=!1,textValue:l,...h}=e,u=I(ei,n),d=K(ei,n),f=u.value===s,[p,v]=(0,i.useState)(null!=l?l:""),[g,b]=(0,i.useState)(!1),w=(0,c.e)(t,e=>{var t;return null===(t=d.itemRefCallback)||void 0===t?void 0:t.call(d,e,s,o)}),_=(0,m.M)(),E=()=>{o||(u.onValueChange(s),u.onOpenChange(!1))};if(""===s)throw Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,i.createElement)(es,{scope:n,value:s,disabled:o,textId:_,isSelected:f,onItemTextChange:(0,i.useCallback)(e=>{v(t=>{var n;return t||(null!==(n=null==e?void 0:e.textContent)&&void 0!==n?n:"").trim()})},[])},(0,i.createElement)(x.ItemSlot,{scope:n,value:s,disabled:o,textValue:p},(0,i.createElement)(y.WV.div,(0,r.Z)({role:"option","aria-labelledby":_,"data-highlighted":g?"":void 0,"aria-selected":f&&g,"data-state":f?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1},h,{ref:w,onFocus:(0,a.M)(h.onFocus,()=>b(!0)),onBlur:(0,a.M)(h.onBlur,()=>b(!1)),onPointerUp:(0,a.M)(h.onPointerUp,E),onPointerMove:(0,a.M)(h.onPointerMove,e=>{if(o){var t;null===(t=d.onItemLeave)||void 0===t||t.call(d)}else e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:(0,a.M)(h.onPointerLeave,e=>{if(e.currentTarget===document.activeElement){var t;null===(t=d.onItemLeave)||void 0===t||t.call(d)}}),onKeyDown:(0,a.M)(h.onKeyDown,e=>{var t;(null===(t=d.searchRef)||void 0===t?void 0:t.current)!==""&&" "===e.key||(T.includes(e.key)&&E()," "===e.key&&e.preventDefault())})}))))}),el="SelectItemText",ec=(0,i.forwardRef)((e,t)=>{let{__scopeSelect:n,className:o,style:a,...l}=e,h=I(el,n),u=K(el,n),d=eo(el,n),f=U(el,n),[p,m]=(0,i.useState)(null),v=(0,c.e)(t,e=>m(e),d.onItemTextChange,e=>{var t;return null===(t=u.itemTextRefCallback)||void 0===t?void 0:t.call(u,e,d.value,d.disabled)}),g=null==p?void 0:p.textContent,b=(0,i.useMemo)(()=>(0,i.createElement)("option",{key:d.value,value:d.value,disabled:d.disabled},g),[d.disabled,d.value,g]),{onNativeOptionAdd:w,onNativeOptionRemove:_}=f;return(0,E.b)(()=>(w(b),()=>_(b)),[w,_,b]),(0,i.createElement)(i.Fragment,null,(0,i.createElement)(y.WV.span,(0,r.Z)({id:d.textId},l,{ref:v})),d.isSelected&&h.valueNode&&!h.valueNodeHasChildren?(0,s.createPortal)(l.children,h.valueNode):null)}),eh=(0,i.forwardRef)((e,t)=>{let{__scopeSelect:n,...s}=e;return eo("SelectItemIndicator",n).isSelected?(0,i.createElement)(y.WV.span,(0,r.Z)({"aria-hidden":!0},s,{ref:t})):null}),eu="SelectScrollUpButton",ed=(0,i.forwardRef)((e,t)=>{let n=K(eu,e.__scopeSelect),s=X(eu,e.__scopeSelect),[o,a]=(0,i.useState)(!1),l=(0,c.e)(t,s.onScrollButtonChange);return(0,E.b)(()=>{if(n.viewport&&n.isPositioned){let t=n.viewport;function e(){a(t.scrollTop>0)}return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),o?(0,i.createElement)(em,(0,r.Z)({},e,{ref:l,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}})):null}),ef="SelectScrollDownButton",ep=(0,i.forwardRef)((e,t)=>{let n=K(ef,e.__scopeSelect),s=X(ef,e.__scopeSelect),[o,a]=(0,i.useState)(!1),l=(0,c.e)(t,s.onScrollButtonChange);return(0,E.b)(()=>{if(n.viewport&&n.isPositioned){let t=n.viewport;function e(){let e=t.scrollHeight-t.clientHeight;a(Math.ceil(t.scrollTop)<e)}return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),o?(0,i.createElement)(em,(0,r.Z)({},e,{ref:l,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}})):null}),em=(0,i.forwardRef)((e,t)=>{let{__scopeSelect:n,onAutoScroll:s,...o}=e,l=K("SelectScrollButton",n),c=(0,i.useRef)(null),h=R(n),u=(0,i.useCallback)(()=>{null!==c.current&&(window.clearInterval(c.current),c.current=null)},[]);return(0,i.useEffect)(()=>()=>u(),[u]),(0,E.b)(()=>{var e;let t=h().find(e=>e.ref.current===document.activeElement);null==t||null===(e=t.ref.current)||void 0===e||e.scrollIntoView({block:"nearest"})},[h]),(0,i.createElement)(y.WV.div,(0,r.Z)({"aria-hidden":!0},o,{ref:t,style:{flexShrink:0,...o.style},onPointerDown:(0,a.M)(o.onPointerDown,()=>{null===c.current&&(c.current=window.setInterval(s,50))}),onPointerMove:(0,a.M)(o.onPointerMove,()=>{var e;null===(e=l.onItemLeave)||void 0===e||e.call(l),null===c.current&&(c.current=window.setInterval(s,50))}),onPointerLeave:(0,a.M)(o.onPointerLeave,()=>{u()})}))}),ev=(0,i.forwardRef)((e,t)=>{let{__scopeSelect:n,...s}=e;return(0,i.createElement)(y.WV.div,(0,r.Z)({"aria-hidden":!0},s,{ref:t}))});function eg(e){return""===e||void 0===e}let ey=(0,i.forwardRef)((e,t)=>{let{value:n,...s}=e,o=(0,i.useRef)(null),a=(0,c.e)(t,o),l=(0,C.D)(n);return(0,i.useEffect)(()=>{let e=o.current,t=Object.getOwnPropertyDescriptor(window.HTMLSelectElement.prototype,"value").set;if(l!==n&&t){let r=new Event("change",{bubbles:!0});t.call(e,n),e.dispatchEvent(r)}},[l,n]),(0,i.createElement)(P.T,{asChild:!0},(0,i.createElement)("select",(0,r.Z)({},s,{ref:a,defaultValue:n})))});function eb(e){let t=(0,w.W)(e),n=(0,i.useRef)(""),r=(0,i.useRef)(0),s=(0,i.useCallback)(e=>{let i=n.current+e;t(i),function e(t){n.current=t,window.clearTimeout(r.current),""!==t&&(r.current=window.setTimeout(()=>e(""),1e3))}(i)},[t]),o=(0,i.useCallback)(()=>{n.current="",window.clearTimeout(r.current)},[]);return(0,i.useEffect)(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function ew(e,t,n){var r;let i=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,s=(r=Math.max(n?e.indexOf(n):-1,0),e.map((t,n)=>e[(r+n)%e.length]));1===i.length&&(s=s.filter(e=>e!==n));let o=s.find(e=>e.textValue.toLowerCase().startsWith(i.toLowerCase()));return o!==n?o:void 0}ey.displayName="BubbleSelect";let e_=e=>{let{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:o,value:a,defaultValue:l,onValueChange:c,dir:h,name:d,autoComplete:f,disabled:p,required:g}=e,y=L(t),[b,w]=(0,i.useState)(null),[E,C]=(0,i.useState)(null),[P,k]=(0,i.useState)(!1),S=(0,u.gm)(h),[j=!1,T]=(0,_.T)({prop:r,defaultProp:s,onChange:o}),[O,R]=(0,_.T)({prop:a,defaultProp:l,onChange:c}),$=(0,i.useRef)(null),A=!b||!!b.closest("form"),[D,I]=(0,i.useState)(new Set),U=Array.from(D).map(e=>e.props.value).join(";");return(0,i.createElement)(v.fC,y,(0,i.createElement)(M,{required:g,scope:t,trigger:b,onTriggerChange:w,valueNode:E,onValueNodeChange:C,valueNodeHasChildren:P,onValueNodeHasChildrenChange:k,contentId:(0,m.M)(),value:O,onValueChange:R,open:j,onOpenChange:T,dir:S,triggerPointerDownPosRef:$,disabled:p},(0,i.createElement)(x.Provider,{scope:t},(0,i.createElement)(N,{scope:e.__scopeSelect,onNativeOptionAdd:(0,i.useCallback)(e=>{I(t=>new Set(t).add(e))},[]),onNativeOptionRemove:(0,i.useCallback)(e=>{I(t=>{let n=new Set(t);return n.delete(e),n})},[])},n)),A?(0,i.createElement)(ey,{key:U,"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:O,onChange:e=>R(e.target.value),disabled:p},void 0===O?(0,i.createElement)("option",{value:""}):null,Array.from(D)):null))},eE=B,eC=H,eP=F,ek=e=>(0,i.createElement)(g.h,(0,r.Z)({asChild:!0},e)),eS=W,ej=Q,eT=en,eO=er,ex=ea,eR=ec,e$=eh,eA=ed,eD=ep,eL=ev},87178:function(e,t,n){n.d(t,{D:function(){return i}});var r=n(52983);function i(e){let t=(0,r.useRef)({value:e,previous:e});return(0,r.useMemo)(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},59171:function(e,t,n){n.d(t,{M:function(){return g}});var r=n(97458),i=n(52983),s=n(57704),o=n(95186),a=n(58917);class l extends i.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function c({children:e,isPresent:t}){let n=(0,i.useId)(),s=(0,i.useRef)(null),o=(0,i.useRef)({width:0,height:0,top:0,left:0}),{nonce:c}=(0,i.useContext)(a._);return(0,i.useInsertionEffect)(()=>{let{width:e,height:r,top:i,left:a}=o.current;if(t||!s.current||!e||!r)return;s.current.dataset.motionPopId=n;let l=document.createElement("style");return c&&(l.nonce=c),document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${r}px !important;
            top: ${i}px !important;
            left: ${a}px !important;
          }
        `),()=>{document.head.removeChild(l)}},[t]),(0,r.jsx)(l,{isPresent:t,childRef:s,sizeRef:o,children:i.cloneElement(e,{ref:s})})}let h=({children:e,initial:t,isPresent:n,onExitComplete:a,custom:l,presenceAffectsLayout:h,mode:d})=>{let f=(0,o.h)(u),p=(0,i.useId)(),m=(0,i.useCallback)(e=>{for(let t of(f.set(e,!0),f.values()))if(!t)return;a&&a()},[f,a]),v=(0,i.useMemo)(()=>({id:p,initial:t,isPresent:n,custom:l,onExitComplete:m,register:e=>(f.set(e,!1),()=>f.delete(e))}),h?[Math.random(),m]:[n,m]);return(0,i.useMemo)(()=>{f.forEach((e,t)=>f.set(t,!1))},[n]),i.useEffect(()=>{n||f.size||!a||a()},[n]),"popLayout"===d&&(e=(0,r.jsx)(c,{isPresent:n,children:e})),(0,r.jsx)(s.O.Provider,{value:v,children:e})};function u(){return new Map}var d=n(30404),f=n(80145);let p=e=>e.key||"";function m(e){let t=[];return i.Children.forEach(e,e=>{(0,i.isValidElement)(e)&&t.push(e)}),t}var v=n(58694);let g=({children:e,exitBeforeEnter:t,custom:n,initial:s=!0,onExitComplete:a,presenceAffectsLayout:l=!0,mode:c="sync"})=>{(0,f.k)(!t,"Replace exitBeforeEnter with mode='wait'");let u=(0,i.useMemo)(()=>m(e),[e]),g=u.map(p),y=(0,i.useRef)(!0),b=(0,i.useRef)(u),w=(0,o.h)(()=>new Map),[_,E]=(0,i.useState)(u),[C,P]=(0,i.useState)(u);(0,v.L)(()=>{y.current=!1,b.current=u;for(let e=0;e<C.length;e++){let t=p(C[e]);g.includes(t)?w.delete(t):!0!==w.get(t)&&w.set(t,!1)}},[C,g.length,g.join("-")]);let k=[];if(u!==_){let e=[...u];for(let t=0;t<C.length;t++){let n=C[t],r=p(n);g.includes(r)||(e.splice(t,0,n),k.push(n))}"wait"===c&&k.length&&(e=k),P(m(e)),E(u);return}let{forceRender:S}=(0,i.useContext)(d.p);return(0,r.jsx)(r.Fragment,{children:C.map(e=>{let t=p(e),i=u===C||g.includes(t);return(0,r.jsx)(h,{isPresent:i,initial:(!y.current||!!s)&&void 0,custom:i?void 0:n,presenceAffectsLayout:l,mode:c,onExitComplete:i?void 0:()=>{if(!w.has(t))return;w.set(t,!0);let e=!0;w.forEach(t=>{t||(e=!1)}),e&&(null==S||S(),P(b.current),a&&a())},children:e},t)})})}}}]);